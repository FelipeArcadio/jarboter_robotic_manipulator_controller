   1               		.file	"packetIO.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
 235               	.global	initPacketIO
 237               	initPacketIO:
   1:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #if !defined _WIN32
   2:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #include <avr/io.h>
   3:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
   4:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
   5:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _AVR_IO_H_
   6:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include <stdio.h>
   7:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include <string.h>
   8:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include "messages.h"
   9:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include "tw_teach_pendant.h"
  10:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include "c-motion.h"
  11:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include "PMDsetup.h"
  12:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#include "PMDtrace.h"
  13:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   //#define	  DEBUGUSBLevel0
  14:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   //#define	  DEBUGUSBLevel1
  15:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   //#define	  DEBUGUSBLevel2
  16:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
  17:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
  18:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
  19:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #include "mem.h"
  20:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #include "packetIO.h"
  21:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  22:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*Variables globales de recepcion*/
  23:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tPacketHeader rxHeader;            
  24:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tCommand      rxCommand;  	
  25:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tTrajectory   rxTrajectory;       
  26:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tString       rxString;           //Es una cadena de 255 posiciones que ya esta definida           
  27:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tAxisLimits   rxAxisLimits;
  28:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tPacket       rxPacket;                      
  29:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** uint8 		  *RXBUFFER;           //varible que recibe los datos del USB 
  30:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16         *rxvector;  
  31:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tFecha        rxFecha;
  32:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tAlarm		  rxAlarma;
  33:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  34:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  35:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  36:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 FlagTrayectoryok=0;
  37:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 FlagrxVectorok=0;
  38:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 FlagTraceok=0;
  39:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  40:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  41:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  42:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*Variables globales de Transmicion*/
  43:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Solo debo de utilizar TXBUFFER,  ya que los otros bufferes son incesarios por que 
  44:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // corresponden a las mismas variables que ya esta correctamente declarados 
  45:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // en la main o donde sea que se quiera mandar la informacion 
  46:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // la informacion 
  47:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** uint8 		  *TXBUFFER;		
  48:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tPacket       txPacket;// es importante que el main sapa que paquete recibi
  49:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   	
  50:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  51:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  52:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // used to check validity of packet header content (not really necessary, but done in 
  53:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // fillPacketHeader and readPacketHeader)
  54:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Attention: the UC compiler can't initialize this (even as const), as it seems. Thus we fill it i
  55:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** static int16 minPacketData[19]={1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1};
  56:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /* = {
  57:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   0,
  58:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   0,
  59:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(tCommand),
  60:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(tError),
  61:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(uint8),
  62:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(int16),
  63:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(int32),
  64:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   0,
  65:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(tTrajectory),
  66:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   1	              // minimum string must have a '\0' character
  67:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(PacketAxisSettings),
  68:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(PacketAxisLimits)
  69:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   sizeof(PacketAny)
  70:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   
  71:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }; // minPacketData */
  72:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  73:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
  74:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** void initPacketIO(void) 
  75:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 238               	FBB1
 239               	.LM0:
 240               	.LFBB1:
 241               	/* prologue: function */
 242               	/* frame size = 0 */
  76:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // initialize min and max fields for data tests (due to compiler problem with initialized structure
  77:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketNOP] = 0;
 243               	bn	68,0,77,.LM1-.LFBB1
 244               	.LM1:
 245 0000 1092 0000 		sts (minPacketData)+1,__zero_reg__
 246 0004 1092 0000 		sts minPacketData,__zero_reg__
  78:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketCommand] = sizeof(tCommand);
 247               	abn	68,0,78,.LM2-.LFBB1
 248               	.LM2:
 249 0008 8BE1      		ldi r24,lo8(27)
 250 000a 90E0      		ldi r25,hi8(27)
 251 000c 9093 0000 		sts (minPacketData+2)+1,r25
 252 0010 8093 0000 		sts minPacketData+2,r24
  79:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketVector] = 0;
 253               	n	68,0,79,.LM3-.LFBB1
 254               	.LM3:
 255 0014 1092 0000 		sts (minPacketData+4)+1,__zero_reg__
 256 0018 1092 0000 		sts minPacketData+4,__zero_reg__
  80:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketFecha] = 0;
 257               	abn	68,0,80,.LM4-.LFBB1
 258               	.LM4:
 259 001c 1092 0000 		sts (minPacketData+20)+1,__zero_reg__
 260 0020 1092 0000 		sts minPacketData+20,__zero_reg__
  81:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketTrajectory] = sizeof(tTrajectory);
 261               	abn	68,0,81,.LM5-.LFBB1
 262               	.LM5:
 263 0024 86E0      		ldi r24,lo8(6)
 264 0026 90E0      		ldi r25,hi8(6)
 265 0028 9093 0000 		sts (minPacketData+6)+1,r25
 266 002c 8093 0000 		sts minPacketData+6,r24
  82:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketString] = 1;
 267               	n	68,0,82,.LM6-.LFBB1
 268               	.LM6:
 269 0030 81E0      		ldi r24,lo8(1)
 270 0032 90E0      		ldi r25,hi8(1)
 271 0034 9093 0000 		sts (minPacketData+10)+1,r25
 272 0038 8093 0000 		sts minPacketData+10,r24
  83:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketAxisSettings] = sizeof(PacketAxisSettings);
 273               	n	68,0,83,.LM7-.LFBB1
 274               	.LM7:
 275 003c 22E0      		ldi r18,lo8(2)
 276 003e 30E0      		ldi r19,hi8(2)
 277 0040 3093 0000 		sts (minPacketData+12)+1,r19
 278 0044 2093 0000 		sts minPacketData+12,r18
  84:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketAxisLimits] =sizeof(PacketAxisLimits);
 279               	n	68,0,84,.LM8-.LFBB1
 280               	.LM8:
 281 0048 3093 0000 		sts (minPacketData+14)+1,r19
 282 004c 2093 0000 		sts minPacketData+14,r18
  85:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[PacketHeader] =sizeof(tPacketHeader);
 283               	abn	68,0,85,.LM9-.LFBB1
 284               	.LM9:
 285 0050 88E0      		ldi r24,lo8(8)
 286 0052 90E0      		ldi r25,hi8(8)
 287 0054 9093 0000 		sts (minPacketData+16)+1,r25
 288 0058 8093 0000 		sts minPacketData+16,r24
  86:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	minPacketData[Packetuint16] =sizeof(uint16);
 289               	n	68,0,86,.LM10-.LFBB1
 290               	.LM10:
 291 005c 3093 0000 		sts (minPacketData+26)+1,r19
 292 0060 2093 0000 		sts minPacketData+26,r18
 293               	/* epilogue start */
  87:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // initPacketIO
 294               	bn	68,0,87,.LM11-.LFBB1
 295               	.LM11:
 296 0064 0895      		ret
 298               	.Lscope1:
 303               	.global	calcChecksum
 305               	calcChecksum:
  88:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  89:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
  90:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** tDataChecksum calcChecksum(tDataLength length, uint8* pdata,tDataType dataType) 
  91:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 306               	,91,.LM12-.LFBB2
 307               	.LM12:
 308               	.LFBB2:
 309 0066 0F93      		push r16
 310 0068 1F93      		push r17
 311 006a CF93      		push r28
 312 006c DF93      		push r29
 313               	/* prologue: function */
 314               	/* frame size = 0 */
 315 006e 8C01      		movw r16,r24
 316 0070 EB01      		movw r28,r22
  92:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    tDataLength i;
  93:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    tDataChecksum sum = 0;
  94:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tTrajectory *pTrajectory;
  95:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 fin;
  96:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
  97:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    if(dataType==PacketTrajectory || dataType==PacketTeachPendant)   
 317               	0,97,.LM13-.LFBB2
 318               	.LM13:
 319 0072 CA01      		movw r24,r20
 320 0074 0397      		sbiw r24,3
 321 0076 0297      		sbiw r24,2
 322 0078 00F4      		brsh .L4
 323 007a 20E0      		ldi r18,lo8(0)
 324 007c 30E0      		ldi r19,hi8(0)
 325 007e A0E0      		ldi r26,lo8(0)
 326 0080 B0E0      		ldi r27,hi8(0)
 327               	.L5:
  98:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    {
  99:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****         pTrajectory=(tTrajectory *)pdata;        
 100:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//sumo los 4 primeros bytes osea los dos campos int16 (campos size e invalidMask).
 101:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		for(i=0; i<4; i++) 
 102:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			sum= sum+(tDataChecksum)pdata[i];      
 328               	0,102,.LM14-.LFBB2
 329               	.LM14:
 330 0082 FE01      		movw r30,r28
 331 0084 E20F      		add r30,r18
 332 0086 F31F      		adc r31,r19
 333 0088 8081      		ld r24,Z
 334 008a A80F      		add r26,r24
 335 008c B11D      		adc r27,__zero_reg__
 337               	.LM15:
 338 008e 2F5F      		subi r18,lo8(-(1))
 339 0090 3F4F      		sbci r19,hi8(-(1))
 340 0092 2430      		cpi r18,4
 341 0094 3105      		cpc r19,__zero_reg__
 342 0096 01F4      		brne .L5
 103:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//apunto al lo que apunta el apuntador point  
 104:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		pdata = (uint8*)pTrajectory->point;       
 343               	4,.LM16-.LFBB2
 344               	.LM16:
 345 0098 6C81      		ldd r22,Y+4
 346 009a 7D81      		ldd r23,Y+5
 347 009c 20E0      		ldi r18,lo8(0)
 348 009e 30E0      		ldi r19,hi8(0)
 105:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//sumo todos los bytes pero a la longitud length le resto 
 106:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//los dos campos int16 osea cuatro bytes que ya sume
 107:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		for(i=0; i<(length-4); i++) 
 349               	n	68,0,107,.LM17-.LFBB2
 350               	.LM17:
 351 00a0 A801      		movw r20,r16
 352 00a2 4450      		subi r20,lo8(-(-4))
 353 00a4 5040      		sbci r21,hi8(-(-4))
 354 00a6 00C0      		rjmp .L6
 355               	.L7:
 108:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			sum= sum+(tDataChecksum)pdata[i];     
 356               		68,0,108,.LM18-.LFBB2
 357               	.LM18:
 358 00a8 FB01      		movw r30,r22
 359 00aa E20F      		add r30,r18
 360 00ac F31F      		adc r31,r19
 361 00ae 8081      		ld r24,Z
 362 00b0 A80F      		add r26,r24
 363 00b2 B11D      		adc r27,__zero_reg__
 365               	.LM19:
 366 00b4 2F5F      		subi r18,lo8(-(1))
 367 00b6 3F4F      		sbci r19,hi8(-(1))
 368               	.L6:
 369 00b8 2417      		cp r18,r20
 370 00ba 3507      		cpc r19,r21
 371 00bc 04F0      		brlt .L7
 372 00be 00C0      		rjmp .L8
 373               	.L4:
 109:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return sum;
 110:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	} 
 111:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(dataType==PacketHeader)
 374               	LM20-.LFBB2
 375               	.LM20:
 376 00c0 4830      		cpi r20,8
 377 00c2 5105      		cpc r21,__zero_reg__
 378 00c4 01F0      		breq .L9
 379 00c6 20E0      		ldi r18,lo8(0)
 380 00c8 30E0      		ldi r19,hi8(0)
 381 00ca A0E0      		ldi r26,lo8(0)
 382 00cc B0E0      		ldi r27,hi8(0)
 383 00ce 00C0      		rjmp .L10
 384               	.L9:
 385 00d0 20E0      		ldi r18,lo8(0)
 386 00d2 30E0      		ldi r19,hi8(0)
 387 00d4 A0E0      		ldi r26,lo8(0)
 388 00d6 B0E0      		ldi r27,hi8(0)
 389               	.L11:
 112:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{		
 113:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		/*ojo para calcular el chksum DEL HEADER no se puede sumar el campo cksum del mismo
 114:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		ya que la primera vez que se calcula éste es cero para la trama que se va enviar.
 115:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Luego cuando los datos son recibidos el checksum no es 
 116:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		cero. Por lo tanto cuando se recalcula este para la trama recibida 
 117:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		da como resultado un numero mayor y DIFERENTE!
 118:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		sizeof(tHeaderChecksum) = 8 byte		
 119:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		por lo tanto se suma todo menos un byte (que es el que corresponde con el campo Checksum)*/
 120:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		fin=sizeof(tPacketHeader)-sizeof(tHeaderChecksum);
 121:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		for(i=0; i<fin; i++)   
 122:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			sum += (tHeaderChecksum)pdata[i];
 390               	,.LM21-.LFBB2
 391               	.LM21:
 392 00d8 FE01      		movw r30,r28
 393 00da E20F      		add r30,r18
 394 00dc F31F      		adc r31,r19
 395 00de 8081      		ld r24,Z
 396 00e0 A80F      		add r26,r24
 397 00e2 B11D      		adc r27,__zero_reg__
 399               	.LM22:
 400 00e4 2F5F      		subi r18,lo8(-(1))
 401 00e6 3F4F      		sbci r19,hi8(-(1))
 402 00e8 2630      		cpi r18,6
 403 00ea 3105      		cpc r19,__zero_reg__
 404 00ec 01F4      		brne .L11
 405 00ee 00C0      		rjmp .L8
 406               	.L12:
 123:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return sum; 
 124:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     }	
 125:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//calquier otro paquete de datos	
 126:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****       for(i=0; i<length; i++) 
 127:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****           sum = sum + (tDataChecksum)pdata[i];  //calquier otro paquete de datos	
 407               	.LM23-.LFBB2
 408               	.LM23:
 409 00f0 FE01      		movw r30,r28
 410 00f2 E20F      		add r30,r18
 411 00f4 F31F      		adc r31,r19
 412 00f6 8081      		ld r24,Z
 413 00f8 A80F      		add r26,r24
 414 00fa B11D      		adc r27,__zero_reg__
 416               	.LM24:
 417 00fc 2F5F      		subi r18,lo8(-(1))
 418 00fe 3F4F      		sbci r19,hi8(-(1))
 419               	.L10:
 420 0100 2017      		cp r18,r16
 421 0102 3107      		cpc r19,r17
 422 0104 04F0      		brlt .L12
 128:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 129:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(i=0; i<length; i++) 
 130:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****           printf("calcChecksum => (tDataChecksum)pdata[%d]=%X \n",i,(tDataChecksum)pdata[i]);
 131:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 132:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 133:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("calcChecksum => cksum %X del paquete %s \n",sum,PacketMsg(dataType));							    
 134:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 135:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(dataType==Packetuint16) //Este paquete puede contener como dato un cero, el significa pose no v
 423               	,.LM25-.LFBB2
 424               	.LM25:
 425 0106 4D30      		cpi r20,13
 426 0108 5105      		cpc r21,__zero_reg__
 427 010a 01F4      		brne .L8
 136:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{		
 137:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(sum==0)
 428               	bn	68,0,137,.LM26-.LFBB2
 429               	.LM26:
 430 010c 1097      		sbiw r26,0
 431 010e 01F4      		brne .L8
 432 0110 A1E0      		ldi r26,lo8(1)
 433 0112 B0E0      		ldi r27,hi8(1)
 434               	.L8:
 138:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			sum=1;
 139:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     }
 140:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 141:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return sum;
 142:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // calcChecksum
 435               		68,0,142,.LM27-.LFBB2
 436               	.LM27:
 437 0114 CD01      		movw r24,r26
 438               	/* epilogue start */
 439 0116 DF91      		pop r29
 440 0118 CF91      		pop r28
 441 011a 1F91      		pop r17
 442 011c 0F91      		pop r16
 443 011e 0895      		ret
 449               	.Lscope2:
 455               	.global	checksumOk
 457               	checksumOk:
 143:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 144:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 145:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 checksumOk (tDataLength length, uint8* data, tDataChecksum checksum,tDataType dataType) 
 146:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 458               	.LFBB3
 459               	.LM28:
 460               	.LFBB3:
 461 0120 CF93      		push r28
 462 0122 DF93      		push r29
 463               	/* prologue: function */
 464               	/* frame size = 0 */
 465 0124 EA01      		movw r28,r20
 147:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tHeaderChecksum testh;
 148:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   
 149:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(dataType==PacketHeader)
 466               	68,0,149,.LM29-.LFBB3
 467               	.LM29:
 468 0126 2830      		cpi r18,8
 469 0128 3105      		cpc r19,__zero_reg__
 470 012a 01F4      		brne .L17
 150:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 151:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		testh=(tHeaderChecksum)calcChecksum(length,data,dataType);
 471               	bn	68,0,151,.LM30-.LFBB3
 472               	.LM30:
 473 012c 48E0      		ldi r20,lo8(8)
 474 012e 50E0      		ldi r21,hi8(8)
 475 0130 00C0      		rjmp .L23
 476               	.L17:
 152:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(testh==checksum)
 153:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 154:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel1
 155:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("checksumOk=> %x OK  \n",checksum);							    
 156:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif  
 157:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			return TRUE;
 158:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 159:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 160:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 161:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     if(calcChecksum(length,data,dataType) == checksum)
 477               	n	68,0,161,.LM31-.LFBB3
 478               	.LM31:
 479 0132 A901      		movw r20,r18
 480               	.L23:
 481 0134 0E94 0000 		call calcChecksum
 482 0138 20E0      		ldi r18,lo8(0)
 483 013a 30E0      		ldi r19,hi8(0)
 484 013c 8C17      		cp r24,r28
 485 013e 9D07      		cpc r25,r29
 486 0140 01F4      		brne .L20
 487 0142 21E0      		ldi r18,lo8(1)
 488 0144 30E0      		ldi r19,hi8(1)
 489               	.L20:
 490 0146 C901      		movw r24,r18
 491               	/* epilogue start */
 162:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 163:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#ifdef DEBUGUSBLevel1
 164:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		printf("checksumOk=> %x OK  \n",checksum);							    
 165:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#endif  
 166:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****         return TRUE;
 167:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 168:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 169:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("checksumOk=> Error CheckSum en PacketHeader = %X  \n",checksum);							    
 170:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif  
 171:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return FALSE;
 172:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // checksumOk
 492               	2,.LM32-.LFBB3
 493               	.LM32:
 494 0148 DF91      		pop r29
 495 014a CF91      		pop r28
 496 014c 0895      		ret
 498               	.Lscope3:
 501               	.global	readPacketHeaderRX
 503               	readPacketHeaderRX:
 173:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 174:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 175:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Nota: Se llama initPacketIO() antes de usar readPacketHeaderRX para inicializar 
 176:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // la longitud de minima para cada tipo de paquete
 177:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 readPacketHeaderRX(tPacketHeader *ppacketHeader) 
 178:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 504               	,178,.LM33-.LFBB4
 505               	.LM33:
 506               	.LFBB4:
 507 014e CF93      		push r28
 508 0150 DF93      		push r29
 509               	/* prologue: function */
 510               	/* frame size = 0 */
 511 0152 EC01      		movw r28,r24
 179:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i;
 180:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	uint8 *pdata;   
 181:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 182:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	pdata = (uint8*)ppacketHeader;					 
 512               	68,0,182,.LM34-.LFBB4
 513               	.LM34:
 514 0154 BC01      		movw r22,r24
 515 0156 20E0      		ldi r18,lo8(0)
 516 0158 30E0      		ldi r19,hi8(0)
 517 015a 00C0      		rjmp .L25
 518               	.L26:
 183:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//se lee 8 bytes del buffer de datos para obtener el header
 184:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(i=0; i<sizeof(tPacketHeader); i++) 	
 185:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		pdata[i]=RXBUFFER[i];						 
 519               		68,0,185,.LM35-.LFBB4
 520               	.LM35:
 521 015c FE01      		movw r30,r28
 522 015e E20F      		add r30,r18
 523 0160 F31F      		adc r31,r19
 524 0162 A091 0000 		lds r26,RXBUFFER
 525 0166 B091 0000 		lds r27,(RXBUFFER)+1
 526 016a A20F      		add r26,r18
 527 016c B31F      		adc r27,r19
 528 016e 8C91      		ld r24,X
 529 0170 8083      		st Z,r24
 531               	.LM36:
 532 0172 2F5F      		subi r18,lo8(-(1))
 533 0174 3F4F      		sbci r19,hi8(-(1))
 534               	.L25:
 535 0176 2830      		cpi r18,8
 536 0178 3105      		cpc r19,__zero_reg__
 537 017a 01F4      		brne .L26
 186:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//deteccion de errores
 187:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// A el tipo de paquete le corresponde un numero  
 188:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// este tiene que estar dentro el rango PacketNOP = 0 y PacketHeader = 13
 189:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if( ( (*ppacketHeader).dataType < 0 || (*ppacketHeader).dataType > lastPacket ) ) 	
 538               	M37-.LFBB4
 539               	.LM37:
 540 017c E881      		ld r30,Y
 541 017e F981      		ldd r31,Y+1
 542 0180 EE30      		cpi r30,14
 543 0182 F105      		cpc r31,__zero_reg__
 544 0184 00F0      		brlo .L27
 545 0186 23E0      		ldi r18,lo8(3)
 546 0188 30E0      		ldi r19,hi8(3)
 547 018a 00C0      		rjmp .L28
 548               	.L27:
 190:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidPacket;
 191:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if((*ppacketHeader).dataLength < minPacketData[(*ppacketHeader).dataType]) 
 549               	0,191,.LM38-.LFBB4
 550               	.LM38:
 551 018c EE0F      		lsl r30
 552 018e FF1F      		rol r31
 553 0190 E050      		subi r30,lo8(-(minPacketData))
 554 0192 F040      		sbci r31,hi8(-(minPacketData))
 555 0194 2A81      		ldd r18,Y+2
 556 0196 3B81      		ldd r19,Y+3
 557 0198 8081      		ld r24,Z
 558 019a 9181      		ldd r25,Z+1
 559 019c 2817      		cp r18,r24
 560 019e 3907      		cpc r19,r25
 561 01a0 04F4      		brge .L29
 562 01a2 27E0      		ldi r18,lo8(7)
 563 01a4 30E0      		ldi r19,hi8(7)
 564 01a6 00C0      		rjmp .L28
 565               	.L29:
 192:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcTooFewData;
 193:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Compara el valor de  (*ppacketHeader).headerChecksum
 194:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//con el calculado con el header recivido por pdata que proviene RXBUFFER
 195:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if (!checksumOk(sizeof(tPacketHeader),pdata,(*ppacketHeader).headerChecksum,PacketHeader))
 566               	.LM39-.LFBB4
 567               	.LM39:
 568 01a8 4E81      		ldd r20,Y+6
 569 01aa 5F81      		ldd r21,Y+7
 570 01ac 88E0      		ldi r24,lo8(8)
 571 01ae 90E0      		ldi r25,hi8(8)
 572 01b0 28E0      		ldi r18,lo8(8)
 573 01b2 30E0      		ldi r19,hi8(8)
 574 01b4 0E94 0000 		call checksumOk
 575 01b8 892B      		or r24,r25
 576 01ba 01F4      		brne .L30
 577 01bc 26E0      		ldi r18,lo8(6)
 578 01be 30E0      		ldi r19,hi8(6)
 579 01c0 00C0      		rjmp .L28
 580               	.L30:
 196:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidHeaderChecksum;
 197:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//compruevo posible inconsistencia de paquete sin datos.
 198:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	/*Si el paquete es PacketTrace el *ppacketHeader).dataChecksum debe ser igual a 1 */
 199:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if ((*ppacketHeader).dataChecksum==0)      //compruebo posible inconsistencia   
 581               	9,.LM40-.LFBB4
 582               	.LM40:
 583 01c2 8C81      		ldd r24,Y+4
 584 01c4 9D81      		ldd r25,Y+5
 585 01c6 892B      		or r24,r25
 586 01c8 01F0      		breq .L31
 587 01ca 20E0      		ldi r18,lo8(0)
 588 01cc 30E0      		ldi r19,hi8(0)
 589 01ce 00C0      		rjmp .L28
 590               	.L31:
 591 01d0 25E0      		ldi r18,lo8(5)
 592 01d2 30E0      		ldi r19,hi8(5)
 593               	.L28:
 200:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			return rcInvalidChecksum;    
 201:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 202:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return rcOK; 
 203:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // readPacketHeader
 594               	203,.LM41-.LFBB4
 595               	.LM41:
 596 01d4 C901      		movw r24,r18
 597               	/* epilogue start */
 598 01d6 DF91      		pop r29
 599 01d8 CF91      		pop r28
 600 01da 0895      		ret
 605               	.Lscope4:
 609               	.global	readPacketDataRX
 611               	readPacketDataRX:
 204:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 205:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 206:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //pdata es un apuntador a RXbuffer donde pdata[0] coresponde a el primer
 207:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //byte de la variable que quiero leer sin el header
 208:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //Es utilizada por todos los tipos de paquetes menos trajectory o PacketTeachPendant
 209:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 readPacketDataRX(tPacketHeader *ppacketHeader, uint8 *pdata) 
 210:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 612               	LM42-.LFBB5
 613               	.LM42:
 614               	.LFBB5:
 615 01dc 0F93      		push r16
 616 01de 1F93      		push r17
 617 01e0 CF93      		push r28
 618 01e2 DF93      		push r29
 619               	/* prologue: function */
 620               	/* frame size = 0 */
 621 01e4 EC01      		movw r28,r24
 622 01e6 8B01      		movw r16,r22
 211:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 212:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i;
 213:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 214:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tDataLength longitud;
 215:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 216:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if((*ppacketHeader).dataLength != 0)
 623               	0,216,.LM43-.LFBB5
 624               	.LM43:
 625 01e8 6A81      		ldd r22,Y+2
 626 01ea 7B81      		ldd r23,Y+3
 627 01ec 6115      		cp r22,__zero_reg__
 628 01ee 7105      		cpc r23,__zero_reg__
 629 01f0 01F4      		brne .L34
 630 01f2 22E0      		ldi r18,lo8(2)
 631 01f4 30E0      		ldi r19,hi8(2)
 632 01f6 00C0      		rjmp .L35
 633               	.L34:
 217:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{ 
 218:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		/*Si el paquete es PacketTrace su dataChecksum es igual a 1*/
 219:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if((*ppacketHeader).dataChecksum != 0)
 634               	0,219,.LM44-.LFBB5
 635               	.LM44:
 636 01f8 8C81      		ldd r24,Y+4
 637 01fa 9D81      		ldd r25,Y+5
 638 01fc 892B      		or r24,r25
 639 01fe 01F0      		breq .L36
 640 0200 20E0      		ldi r18,lo8(0)
 641 0202 30E0      		ldi r19,hi8(0)
 642 0204 00C0      		rjmp .L37
 643               	.L38:
 220:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 221:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			longitud=(*ppacketHeader).dataLength;
 222:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel1
 223:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("readPacketDataRX=> direccion RXBUFFER en readPacketDataRX=>  %X\n",(int16)RXBUFFER);
 224:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("readPacketDataRX=> direccion pdata en readPacketDataRX=>  %X\n",(int16)pdata);							   
 225:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 226:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel2
 227:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<longitud; i++) 
 228:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("readPacketDataRX=> RXBUFFER[%d]=%X\n",i,RXBUFFER[i]);							       
 229:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 230:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			
 231:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<longitud; i++) 
 232:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				pdata[i]=RXBUFFER[i];   //pdata[0] tiene el primer dato
 644               	,0,232,.LM45-.LFBB5
 645               	.LM45:
 646 0206 F801      		movw r30,r16
 647 0208 E20F      		add r30,r18
 648 020a F31F      		adc r31,r19
 649 020c A091 0000 		lds r26,RXBUFFER
 650 0210 B091 0000 		lds r27,(RXBUFFER)+1
 651 0214 A20F      		add r26,r18
 652 0216 B31F      		adc r27,r19
 653 0218 8C91      		ld r24,X
 654 021a 8083      		st Z,r24
 656               	.LM46:
 657 021c 2F5F      		subi r18,lo8(-(1))
 658 021e 3F4F      		sbci r19,hi8(-(1))
 659               	.L37:
 660 0220 2617      		cp r18,r22
 661 0222 3707      		cpc r19,r23
 662 0224 04F0      		brlt .L38
 233:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel2
 234:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<longitud; i++) 
 235:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("readPacketDataRX=> Actualizado en readPacketDataRX=> pdata[%d] =%X\n",i,pdata[i]);					
 236:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<longitud; i++) 
 237:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("readPacketDataRX=> Comprobado en readPacketDataRX=> RXBUFFER[%d]=%X\n",i,RXBUFFER[i]);	
 238:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 239:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			if((*ppacketHeader).dataType!=PacketTrace)
 663               	M47-.LFBB5
 664               	.LM47:
 665 0226 2881      		ld r18,Y
 666 0228 3981      		ldd r19,Y+1
 667 022a 2C30      		cpi r18,12
 668 022c 3105      		cpc r19,__zero_reg__
 669 022e 01F0      		breq .L39
 240:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 241:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if( checksumOk(longitud,pdata,(*ppacketHeader).dataChecksum,(*ppacketHeader).dataType)== TRUE )
 670               		68,0,241,.LM48-.LFBB5
 671               	.LM48:
 672 0230 4C81      		ldd r20,Y+4
 673 0232 5D81      		ldd r21,Y+5
 674 0234 CB01      		movw r24,r22
 675 0236 B801      		movw r22,r16
 676 0238 0E94 0000 		call checksumOk
 677 023c 0197      		sbiw r24,1
 678 023e 01F4      		brne .L36
 679               	.L39:
 680 0240 20E0      		ldi r18,lo8(0)
 681 0242 30E0      		ldi r19,hi8(0)
 682 0244 00C0      		rjmp .L35
 683               	.L36:
 684 0246 25E0      		ldi r18,lo8(5)
 685 0248 30E0      		ldi r19,hi8(5)
 686               	.L35:
 242:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				return rcOK;	
 243:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 244:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			else
 245:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				/*No de puede calcular el dataChecksum, por la forma  con que uC manda los datos*/
 246:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			   return rcOK; 
 247:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 248:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 249:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return  rcInvalidChecksum;
 250:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}   	
 251:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return rcInvalidData;
 252:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // readPacketData
 687               	.LM49-.LFBB5
 688               	.LM49:
 689 024a C901      		movw r24,r18
 690               	/* epilogue start */
 691 024c DF91      		pop r29
 692 024e CF91      		pop r28
 693 0250 1F91      		pop r17
 694 0252 0F91      		pop r16
 695 0254 0895      		ret
 700               	.Lscope5:
 706               	.global	fillPacketHeader
 708               	fillPacketHeader:
 253:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 254:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 255:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 256:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //pTrajectory es la trayectoria destino
 257:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //RXBUFFER[0] tiene la estructura trayectoria no el header	
 258:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 readTrajectoryRX(tTrajectory *pTrajectory,tPacketHeader packetHeader) 
 259:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 260:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 261:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 k;
 262:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 263:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 rc = rcOK;
 264:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i,j;
 265:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     uint8* pdata=NULL;
 266:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   
 267:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 268:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	pdata = (uint8*)pTrajectory;				
 269:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Leemos  4 bytes  del RXBUFFER los 3 campos: puntos,dummy,*tpont 
 270:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(i=0; i<4; i++) 
 271:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		pdata[i]=RXBUFFER[i];
 272:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1    
 273:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("readTrajectoryRX=> pTrajectory->size =%d  \n",pTrajectory->size);							      
 274:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 275:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 276:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("readTrajectoryRX => Addr de pTrajectory = %X\n",(int16)pTrajectory);							    
 277:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(k=0; k<4; k++) 
 278:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	    printf("readTrajectoryRX => RXBUFFER[%d]=%X pdata[%d]=%X\n",k,RXBUFFER[k],k,pdata[k]);							 
 279:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 280:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//pTrajectory->size es la cantidad de puntos de la trayectoria, 
 281:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//cada punto tiene un tamaño tpoint 
 282:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     j=(pTrajectory->size)*sizeof(tpoint);       
 283:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Reservo espacio para guardar toda esa informacion que viene desde el USB
 284:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	pTrajectory->point=(tpoint *)declarar(j); 
 285:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	pdata = (uint8*)pTrajectory->point;        
 286:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//En el siguiente  for pdata[0] corresponde a los datos a los que apunta pTrajectory->point
 287:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//RXBUFFER[j] = tiene la informacion de los puntos que llegaron desde USB
 288:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//i = 3, 3 campos puntos,dummy,y apuntador a tpont que ya incluido
 289:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//j tiene que llegar hasta el final de los datos
 290:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(j=i; j<packetHeader.dataLength;j++) 
 291:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		pdata[j-i]=RXBUFFER[j]; 
 292:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	 
 293:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 294:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//K tiene que llegar hasta 120
 295:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     for(k=0; k<packetHeader.dataLength-i; k++) 
 296:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 297:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	    printf("readTrajectoryRX => RXBUFFER[%d]=%X pdata[%d]=%X \n",k+i,RXBUFFER[k+i],k,pdata[k]);			
 298:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 299:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("readTrajectoryRX => Addr pTrajectory->point = %X \n",(int16)pTrajectory->point);							   
 300:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     #endif
 301:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//checksumOk calcula el cheksum con los datos recibidos
 302:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(!checksumOk (packetHeader.dataLength,(uint8*)pTrajectory,packetHeader.dataChecksum,PacketTrajec
 303:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidChecksum;
 304:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** return rc;
 305:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } 
 306:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 307:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 308:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //**************************************
 309:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //functions to make communication easier
 310:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //**************************************
 311:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 312:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // receiptPacket and dispatchPacket should make the code more readable.
 313:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // main receive function with error handling
 314:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // get packet type and data and store it in the global rxXXX buffers.
 315:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // check return code in case of error
 316:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 317:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Comentarios nuevos 
 318:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Como  es el uC el unico que conoce la cantidad de los datos 
 319:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // que esta enviando hacia el computador 
 320:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 1. Ver si el Gpif esta ocupado con alguna transaccion anterior
 321:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 2. Se limpian los Bufferes 
 322:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 3. Se inicia el proceso para poder leer el header
 323:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //		- Se ejecuta un request con 0xC8 para poder modicar el TC a 4bytes 
 324:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //        (como se utiliza 16 bis  tiene que tener la mitad de los bytes 8/2) 
 325:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //      - Actualizo el TC a 4
 326:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //		- Se ejecuta un request con 0xC0 para interumpir el uC y pedirle lo datos.
 327:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //		- Lleer el header con la funcion readPacketHeaderRX(&rxHeader)
 328:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 3. Mediante el header, detectar la cantidad de datos  que necesitan ser recividos por el PC
 329:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 4. Si es impartar convertirlo en par esto es  por que USB esta configurado a 16BITS 
 330:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 4. Asignar memoria a RxBuffer con la longitud de los datos 
 331:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 7. de Rx buffer se lee toda la informacion 
 332:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 333:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _WIN32
 334:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 receiptPacket(char Devicename[],HANDLE hDlg)  
 335:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 336:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 rc=0,i=0,delay=6500;
 337:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	char buffertemp=00;  
 338:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	uint8 * TC;
 339:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int request;
 340:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 341:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Esta ocupado debido a una tranferencia de lectura o escritura, uC fallo...
 342:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if (UsbGpifIDEL(hDlg,Devicename))                              
 343:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 344:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Activa INT_FLAGin y low in_toquen_event
 345:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Abortar(hDlg,1,Devicename);
 346:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Esta variable guardara la cantidad de byte el uC envia
 347:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		TC=(uint8*)declarar(3);             
 348:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//habilito modificacion del TC
 349:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		request=0xC8;
 350:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename); 
 351:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Siempre tengo que pedir la mitad de los bytes que necesito (16bits)	                           
 352:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//El header tiene 8 bytes por lo tanto TC=4	
 353:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		i=4;                                                          
 354:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		TC = (uint8*)&i;											   
 355:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Actulizo TC dentro del uC 8051 para leer la cabecera
 356:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rc=Mandar_datos_Por_USB(hDlg,0,TC,2,Devicename);		   
 357:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//HAbilito las transferencias IN
 358:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		request=0xC0;                                              
 359:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename);
 360:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Creo un Buffer para almacenar el header
 361:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		RXBUFFER=(uint8 *)declarar(8);                              
 362:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rc = Leer_datos_Por_USB(hDlg,1,RXBUFFER,8,Devicename);	   
 363:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(rc != rcOK) 
 364:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 365:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			free(RXBUFFER);
 366:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			return rc;                                  
 367:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 368:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rc = readPacketHeaderRX(&rxHeader);				           
 369:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		free(RXBUFFER);
 370:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(rc != rcOK) return rc;                                  
 371:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Miro la cantidad de datos enviados despues de la cabecera    
 372:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		i=rxHeader.dataLength;													
 373:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		/*rxHeader.dataLength puede ser impar o par ya que lo que solo  es es TXBUFFER, 
 374:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		mas no los datos que contiene, ahora bien i equivale a la cantidad de bytes que 
 375:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		leo esta tiene que ser igual a TXBUFFER, rxHeader.dataLength no poser cambiado*/
 376:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 377:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(!Esimpar(i))
 378:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			i= i/2;
 379:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		else 
 380:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 381:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			i++;                                                 
 382:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			i=i/2;                                                
 383:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 384:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		TC = (uint8*)&i;                         
 385:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//habilito modificacion del TC
 386:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		request=0xC8;
 387:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename); 
 388:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rc=Mandar_datos_Por_USB(hDlg,0,TC,2,Devicename);            
 389:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		i=i*2;
 390:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		RXBUFFER=(uint8 *)declarar(i); 
 391:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		while(!UsbGpifIDEL(hDlg,Devicename))
 392:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 393:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			request=0xC9; // Cancela el gpif
 394:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename);
 395:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 396:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		//Abilito transferencias IN
 397:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		request=0xC0;
 398:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename);
 399:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		/*Siempre Leo una cantidad par de datos*/
 400:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rc=Leer_datos_Por_USB(hDlg,1,RXBUFFER,i,Devicename);
 401:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(rc != rcOK) return rc; 
 402:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		rxPacket = rxHeader.dataType;					
 403:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		switch(rxPacket)
 404:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 405:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketTeachPendant:
 406:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketTrajectory:	
 407:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if(FlagTrayectoryok)				
 408:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					/*Libero la rxtrayectory anterior*/
 409:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					free(rxTrajectory.point); 
 410:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				/*Creo una nueva*/
 411:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc=readTrajectoryRX(&rxTrajectory,rxHeader);
 412:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				FlagTrayectoryok=1;
 413:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 414:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketCommand:
 415:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxCommand);
 416:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if(rxCommand.CommandOP > lastCommand) 
 417:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				{
 418:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					rxCommand.CommandOP = CommandNOP;     // make access to CommandMsg[rxCommand] safe
 419:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					return rcInvalidCommand;
 420:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				}
 421:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****             break;    
 422:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketString:			 
 423:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader,(uint8*)rxString); //Max 255 char
 424:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 425:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketAxisSettings:
 426:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxAxisSettings); 
 427:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 428:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketAxisLimits:
 429:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxAxisLimits); 
 430:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 431:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketPosesvector:
 432:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if(FlagrxVectorok)					
 433:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					free(rxvector); /*Liberamos a rxVector*/
 434:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				/*Creamos uno nuevo*/
 435:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rxvector=(int16*)declarar(rxHeader.dataLength);
 436:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)rxvector); 
 437:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				FlagrxVectorok=1;
 438:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 439:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketFecha:
 440:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxFecha); 
 441:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 442:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketAlarma:
 443:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxAlarma); 
 444:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 445:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case Packetuint16:
 446:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)&rxPosesActual); 
 447:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 448:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			case PacketTrace:
 449:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if(FlagTraceok)					
 450:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					free(rxTraceBuffer); /*Liberamos a rxTraceBuffer*/
 451:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rxTraceBuffer=(int32*)declarar(rxHeader.dataLength);
 452:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rc = readPacketDataRX(&rxHeader, (uint8*)rxTraceBuffer); 
 453:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				FlagTraceok=1;
 454:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			break;
 455:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}//end case
 456:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if(rc==rcOK)
 457:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 458:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			while(!UsbGpifIDEL(hDlg,Devicename))
 459:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 460:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				request=0xC9; // Cancela el gpif
 461:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename);
 462:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 463:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 464:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		free(RXBUFFER);//libero el RXbuffer para poder recibir la siguiente	
 465:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rc;
 466:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}//end if busy
 467:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 468:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return rcUnexpectedState;
 469:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } //  end receiptPacket
 470:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
 471:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 472:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 473:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Comentarios nuevos 
 474:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // Proceso de recepcion de datos
 475:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 1. Se limpian los Bufferes
 476:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 2. Se lee header para poder saber las caracteristicas del paquete:
 477:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //    Esto implica declarar un buffer  8 byte que es la longitud del header y  luego 
 478:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //    llamar a  la funcion Leo_USB(RXBUFFER,8) para colocar 8 bytes en èl. Finalmente 
 479:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //    mediante la funcion readPacketHeaderRX se copia la informacion de RXBUFFER 
 480:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //    a la varible rxHeader, si hay error se sale de la funcion.
 481:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 3. Se lee el campo rxHeader.dataLength se declara a RXBUFFER con esa longitud
 482:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //    y luego se utiliza de nuevo la funcion Leo_USB(RXBUFFER,8)
 483:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 4. Se lee el campo rxHeader.dataType del header recibido y se copia a rxPacket
 484:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 5. Dependiendo del tipo de paquete se guarda en su respectiva variable
 485:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 486:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _AVR_IO_H_
 487:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 receiptPacket(void)  
 488:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 489:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 490:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 491:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i;
 492:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 493:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    	#ifdef DEBUGUSBLevel1
 494:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i1;
 495:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	uint16 spacefree;
 496:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 497:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    	int16 rc;
 498:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tDataLength longitud;    
 499:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****    //Creo un Buffer para almacenar el header
 500:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	RXBUFFER=(uint8 *)declarar(8);                    
 501:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 502:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 503:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Addr RXBUFFER para almacenar los datos Header = %X \n",(int16)RXBUFFER);		
 504:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 505:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 506:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Siempre se manda primero el header y luego los dato
 507:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//En esta función el uC recibe los datos desde la fifo, la cual es controlada por el GPIF
 508:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc = Leo_USB(RXBUFFER,8);
 509:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rc!=rcOK)
 510:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rc;				
 511:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Se lee el Header de RXBUFFER
 512:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc = readPacketHeaderRX(&rxHeader);				    
 513:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	free(RXBUFFER); 
 514:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rc != rcOK) 
 515:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 516:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#ifdef DEBUGUSBLevel0
 517:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		printf("receipPacket=> Error al leer el Header\n");							    
 518:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#endif
 519:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rc;                       
 520:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 521:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// Reservo memoria a los datos
 522:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	longitud=rxHeader.dataLength;		
 523:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	/*tengo que crear un buffer siempre de datos pares pues USB siempre manda par*/
 524:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(longitud))
 525:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		longitud++;
 526:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 527:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	spacefree=maxavail();
 528:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> La cantidad de memoria ram disponible SIN rxbuffer declarado %d \n",spacef
 529:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif	
 530:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
 531:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	RXBUFFER=(uint8 *)declarar(longitud);    
 532:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 533:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 534:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	spacefree=maxavail();
 535:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> La cantidad de memoria ram disponible CON rxbuffer declarado %d , con una 
 536:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 537:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//En esta función el uC recibe los datos desde la fifo, la cual es controlada por el GPIF
 538:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc=Leo_USB(RXBUFFER,longitud); 
 539:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rc!=rcOK)
 540:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 541:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#ifdef DEBUGUSBLevel0
 542:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		printf("receipPacket=> Error al leer los datos\n");							    
 543:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		#endif
 544:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rc;				
 545:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 546:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 547:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rxPacket = rxHeader.dataType;	
 548:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 549:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel0
 550:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Addr RXBUFFER de los datos = %X \n",(int16)RXBUFFER);							    
 551:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Actualizado rxHeader.dataType  = %X \n",rxHeader.dataType);							    
 552:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Actualizado rxHeader.dataLength  = %X \n",rxHeader.dataLength);							    
 553:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Actualizado rxHeader.dataChecksum  = %X \n",rxHeader.dataChecksum);	
 554:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receiptPacket=> Actualizado rxHeader.headerChecksum  = %X \n",rxHeader.headerChecksum);			
 555:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 556:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 557:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rxPacket!=PacketTrajectory ||rxPacket!=PacketTeachPendant)   
 558:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		for(i=0; i<longitud; i++) 
 559:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
 560:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=> RXBUFFER[%d] = %X \n",i,RXBUFFER[i]);							    
 561:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
 562:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif	
 563:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 564:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	switch(rxPacket)
 565:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{  	
 566:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTeachPendant:
 567:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTrajectory:	
 568:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel0
 569:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=> FlagTrayectoryok = %d\n",FlagTrayectoryok);							    
 570:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 571:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			if(FlagTrayectoryok)				
 572:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 573:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				/*Libero la rxtrayectory anterior*/
 574:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				#ifdef DEBUGUSBLevel0
 575:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				spacefree=maxavail();
 576:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=> La cantidad de memoria ram disponible %d \n",spacefree);
 577:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=> rxTrajectory.point = %X\n",(int16)rxTrajectory.point);
 578:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				#endif
 579:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				free(rxTrajectory.point); 
 580:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				#ifdef DEBUGUSBLevel0
 581:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				spacefree=maxavail();
 582:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=> rxTrajectory.point  free...\n");	
 583:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=> La cantidad de memoria ram disponible %d \n",spacefree);						    
 584:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				#endif		
 585:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 586:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc=readTrajectoryRX(&rxTrajectory,rxHeader); 
 587:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel0
 588:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=> He ejecutado readTrajectoryRX ...\n");							    
 589:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif 
 590:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			FlagTrayectoryok=1;
 591:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;		
 592:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketCommand:
 593:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)&rxCommand);
 594:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			if(rxCommand.CommandOP > lastCommand) 
 595:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 596:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				rxCommand.CommandOP = CommandNOP;     // make access to CommandMsg[rxCommand] safe
 597:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				return rcInvalidCommand;
 598:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 599:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****         break;   
 600:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketString:			 
 601:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader,(uint8*)rxString); //Max 255 char
 602:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;	 
 603:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAxisSettings:
 604:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel1
 605:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i1=0; i1<DOF; i1++) 
 606:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 607:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				
 608:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=>  direccion de &(rxAxisSettings[%d]) %x\n",i1,(int16)&(rxAxisSettings[i1]
 609:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				printf("receipPacket=>  direccion rxAxisSettings %x\n",(int16)rxAxisSettings);
 610:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				
 611:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 612:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=>  rxHeader.dataLength = %d\n",rxHeader.dataLength);
 613:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=>  sizeof(tAxisSettings) = %d\n",sizeof(tAxisSettings));
 614:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 615:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			readPacketDataRX(&rxHeader, (uint8*)&(rxAxisSettings[0]) ); 
 616:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			
 617:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel2
 618:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<DOF; i++) 
 619:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receiptPacket => rxAxisSettings[%d].ustepsPerStep= %d \n",i,rxAxisSettings[i].ustepsPerS
 620:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 621:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			
 622:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;	 
 623:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAxisLimits:
 624:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)&rxAxisLimits); 
 625:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;	 
 626:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketPosesvector:
 627:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel0
 628:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=>  FlagrxVectorok = %d\n",FlagrxVectorok);							    
 629:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 630:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			if(FlagrxVectorok)					
 631:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				free(rxvector); /*Liberamos a rxVector*/
 632:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			/*Creamos uno nuevo*/
 633:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		    rxvector=(int16*)declarar(rxHeader.dataLength);
 634:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		    rc = readPacketDataRX(&rxHeader, (uint8*)rxvector); 
 635:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			FlagrxVectorok=1;
 636:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 637:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketFecha:
 638:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)&rxFecha); 
 639:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 640:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAlarma:
 641:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)&rxAlarma); 
 642:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 643:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case Packetuint16:
 644:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)&rxPosesActual); 
 645:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 646:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTrace:
 647:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel0
 648:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("receipPacket=> FlagTraceOK = %d\n",FlagTraceok);							    
 649:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
 650:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			if(FlagTraceok)					
 651:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				free(rxTraceBuffer); 
 652:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			/*Creamos un buffer dinamico de la cantidad de datos de 8bits 
 653:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			presentes en la cantidad de datos de 32 bits enviados*/
 654:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rxTraceBuffer=(int32*)declarar(rxHeader.dataLength);
 655:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc = readPacketDataRX(&rxHeader, (uint8*)rxTraceBuffer); 
 656:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			FlagTraceok=1;
 657:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 658:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}//end case
 659:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	free(RXBUFFER);//libero el RXbuffer para poder recibir la siguiente	
 660:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 661:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	spacefree=maxavail();
 662:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("receipPacket=> La cantidad de memoria ram disponible CON rxbuffer LIBERADO.. %d \n",spacef
 663:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 664:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return rc;
 665:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // receiptPacket
 666:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
 667:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 668:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 669:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*-------------------------------------WRITE---------------------------------------------*/
 670:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // fill the header structure and calculate the data and header checksum. Return rc
 671:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 672:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 fillPacketHeader(tPacketHeader *ppacketHeader, tDataType dataType, tDataLength dataLength, 
 673:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					 uint8 *pdata) 
 674:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 709               	-.LFBB6
 710               	.LM50:
 711               	.LFBB6:
 712 0256 CF93      		push r28
 713 0258 DF93      		push r29
 714               	/* prologue: function */
 715               	/* frame size = 0 */
 716 025a EC01      		movw r28,r24
 717 025c FB01      		movw r30,r22
 675:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	(*ppacketHeader).dataChecksum = 0;    // will stay so if the packet has no data attached
 718               	8,0,675,.LM51-.LFBB6
 719               	.LM51:
 720 025e 1D82      		std Y+5,__zero_reg__
 721 0260 1C82      		std Y+4,__zero_reg__
 676:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	(*ppacketHeader).headerChecksum = 0;  // necessary initializazion for the following calculation!
 722               	abn	68,0,676,.LM52-.LFBB6
 723               	.LM52:
 724 0262 1F82      		std Y+7,__zero_reg__
 725 0264 1E82      		std Y+6,__zero_reg__
 677:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	(*ppacketHeader).dataType = dataType;
 726               	abn	68,0,677,.LM53-.LFBB6
 727               	.LM53:
 728 0266 7983      		std Y+1,r23
 729 0268 6883      		st Y,r22
 678:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	(*ppacketHeader).dataLength = dataLength;
 730               	abn	68,0,678,.LM54-.LFBB6
 731               	.LM54:
 732 026a 5B83      		std Y+3,r21
 733 026c 4A83      		std Y+2,r20
 679:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(dataType > lastPacket) 
 734               	abn	68,0,679,.LM55-.LFBB6
 735               	.LM55:
 736 026e 6E30      		cpi r22,14
 737 0270 7105      		cpc r23,__zero_reg__
 738 0272 04F0      		brlt .L42
 739 0274 23E0      		ldi r18,lo8(3)
 740 0276 30E0      		ldi r19,hi8(3)
 741 0278 00C0      		rjmp .L43
 742               	.L42:
 680:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidPacket;  // ensure that we don't try to send invalid data:  
 681:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(dataLength > 0)                                 // calculate data checksum, if data is present
 743               	8,0,681,.LM56-.LFBB6
 744               	.LM56:
 745 027a 1416      		cp __zero_reg__,r20
 746 027c 1506      		cpc __zero_reg__,r21
 747 027e 04F0      		brlt .L44
 748 0280 27E0      		ldi r18,lo8(7)
 749 0282 30E0      		ldi r19,hi8(7)
 750 0284 00C0      		rjmp .L43
 751               	.L44:
 682:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 683:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	    if((*ppacketHeader).dataType==PacketTrace)
 752               	8,0,683,.LM57-.LFBB6
 753               	.LM57:
 754 0286 6C30      		cpi r22,12
 755 0288 7105      		cpc r23,__zero_reg__
 756 028a 01F4      		brne .L45
 684:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			/*No es posible calcular el dataChecksum debido a la forma de como de manda este tipo
 685:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			de dato, se coloca a 1 para no tener problemas a la hora de leer*/
 686:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			(*ppacketHeader).dataChecksum = 1;
 757               	bn	68,0,686,.LM58-.LFBB6
 758               	.LM58:
 759 028c 81E0      		ldi r24,lo8(1)
 760 028e 90E0      		ldi r25,hi8(1)
 761 0290 00C0      		rjmp .L48
 762               	.L45:
 687:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		else
 688:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			(*ppacketHeader).dataChecksum = calcChecksum(dataLength,pdata,dataType); 
 763               	n	68,0,688,.LM59-.LFBB6
 764               	.LM59:
 765 0292 CA01      		movw r24,r20
 766 0294 B901      		movw r22,r18
 767 0296 AF01      		movw r20,r30
 768 0298 0E94 0000 		call calcChecksum
 769               	.L48:
 770 029c 9D83      		std Y+5,r25
 771 029e 8C83      		std Y+4,r24
 689:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 690:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 691:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcTooFewData;       
 692:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	(*ppacketHeader).headerChecksum=(tHeaderChecksum)calcChecksum(sizeof(tPacketHeader),(uint8*)ppacke
 772               	8,0,692,.LM60-.LFBB6
 773               	.LM60:
 774 02a0 88E0      		ldi r24,lo8(8)
 775 02a2 90E0      		ldi r25,hi8(8)
 776 02a4 BE01      		movw r22,r28
 777 02a6 48E0      		ldi r20,lo8(8)
 778 02a8 50E0      		ldi r21,hi8(8)
 779 02aa 0E94 0000 		call calcChecksum
 780 02ae 9F83      		std Y+7,r25
 781 02b0 8E83      		std Y+6,r24
 782 02b2 20E0      		ldi r18,lo8(0)
 783 02b4 30E0      		ldi r19,hi8(0)
 784               	.L43:
 693:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     return rcOK;
 694:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
 785               	694,.LM61-.LFBB6
 786               	.LM61:
 787 02b6 C901      		movw r24,r18
 788               	/* epilogue start */
 789 02b8 DF91      		pop r29
 790 02ba CF91      		pop r28
 791 02bc 0895      		ret
 793               	.Lscope6:
 796               	.global	Esimpar
 798               	Esimpar:
 695:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 696:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 697:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // if data is ready, Se prepara el buffer para ser mandado almacenando la informacion necesaria en 
 698:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** void BUFFERPacketDataTX(tPacketHeader *ppacketHeader, uint8 *pdata, tDataType tipo) 
 699:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** { 
 700:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   
 701:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 i,j;
 702:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tTrajectory *temp;
 703:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   
 704:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	switch (tipo)
 705:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 706:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketHeader:  
 707:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			// Se guarda el Header al principio de TXBUFFER
 708:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=0; i<sizeof(tPacketHeader); i++)   
 709:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				TXBUFFER[i]=pdata[i]; 
 710:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 711:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTrajectory:	
 712:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTeachPendant:
 713:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//me desplazo 8 bytes en TXBUFFER porque deben de contener le header																
 714:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//copio los 4 bytes de la trayectoria, 2 campos  int16 (dummy y size)
 715:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=sizeof(tPacketHeader); i<4+sizeof(tPacketHeader); i++)   
 716:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				TXBUFFER[i]=pdata[i-sizeof(tPacketHeader)]; 
 717:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//copio los datos en una variable temporal  de tipo tTrajectory para poder 	
 718:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//acceder a el campo point y asi extraer el apuntador a los  puntos
 719:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			temp=(tTrajectory *)pdata;		
 720:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			pdata = (uint8*)temp->point;		
 721:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(j=i; j<ppacketHeader->dataLength+i; j++) 
 722:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				TXBUFFER[j]=pdata[j-i]; 	        
 723:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
 724:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		default:								//para todos los demas paquetes
 725:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			j=(int16)ppacketHeader->dataLength;
 726:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			j=j+sizeof(tPacketHeader);
 727:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(i=sizeof(tPacketHeader);i<j;i++) 
 728:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{
 729:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				TXBUFFER[i]=pdata[i-sizeof(tPacketHeader)]; //Coloca toda la informacion a enviar  
 730:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				if(tipo==Packetuint16)
 731:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				{
 732:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					printf("BUFFERPacketDataTX=> pdata[%d-sizeof(tPacketHeader)] = %d \n",i,pdata[i-sizeof(tPacket
 733:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				}
 734:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			}
 735:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}  
 736:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendPacketData
 737:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 738:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 739:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // a short way to send a command byte
 740:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERCommandTX(tCommand* command) 
 741:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 742:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 743:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize;	
 744:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 745:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tCommand)+sizeof(tPacketHeader);
 746:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 747:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 748:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 749:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//sizeof(tCommand)
 750:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketCommand,sizeof(tCommand),(uint8*)command);
 751:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER	
 752:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader); 
 753:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 754:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> ComandoOP en BUFFERCommandTX=> %d  \n",command->CommandOP);
 755:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> Axis en BUFFERCommandTX=> %d\n",command->Axis);
 756:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> Dato en BUFFERCommandTX=> %ld\n",command->Dato);	    
 757:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     printf("BUFFERCommandTX=> packetHeader.dataType en BUFFERCommandTX=> %s\n",PacketMsg(packetHead
 758:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> header.datalength en BUFFERCommandTX=> %x\n", packetHeader.dataLength);
 759:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> packetHeader.dataChecksum en BUFFERCommandTX=> %x\n",packetHeader.dataCh
 760:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERCommandTX=> packetHeader.headerChecksum en BUFFERCommandTX=> %d\n",packetHeader.head
 761:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 762:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//meto el command en TXBUFFER despues del header 
 763:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)command,PacketCommand);     
 764:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 765:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendCommand
 766:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 767:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 768:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERStringTX(uint8 *string) 
 769:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {  
 770:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	uint8 *info;
 771:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize= 0;
 772:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 Datasize= 0;
 773:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 774:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     
 775:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	info=(uint8*)string;
 776:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=strlen((char*)info)+sizeof(tPacketHeader);
 777:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 778:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 779:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 780:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Datasize tiene la logitud de la informacion en bytes
 781:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	Datasize=strlen((char*)info);
 782:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketString,(tDataLength)Datasize,string);  
 783:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 784:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);     
 785:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el string en TXBUFFER
 786:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,string,PacketString);                   
 787:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 788:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendString
 789:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 790:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 791:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //Coloca la trayectoria + el header en TXBUFFER para luego ser enviada
 792:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** //tipo puede ser PacketTeachPendant o PacketTrajectory 
 793:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERTrajectoryTX(tTrajectory *pTrajectory,int16 puntos,tPacket tipo) 
 794:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 795:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
 796:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 797:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//asigno memoria para guardar la trayectoria, 
 798:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//3 de  campos: una estructura tpoint * numero de puntos 
 799:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//+ 2 campos  int16 (dummy y size) 
 800:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//mas el tamaño del header
 801:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tpoint)*puntos+2*sizeof(int16)+sizeof(tPacketHeader); 
 802:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 803:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 804:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 805:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-9;						  
 806:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 807:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 808:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 809:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;						  	
 810:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 811:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 812:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);    
 813:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Resto el numero de bytes del header pues este es la cantidad de datos 
 814:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//que se quieren enviar	   	    
 815:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//
 816:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 817:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,tipo,(tDataLength)Datasize,(uint8*)pTrajectory);
 818:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 819:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTrajectoryTX=> Addr de pTrajectory en BUFFERTrajectoryTX=> %X\n",(int16)pTrajectory)
 820:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTrajectoryTX=> Addr de pTrajectory->point en BUFFERTrajectoryTX=> %X \n",(int16)pTra
 821:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     printf("BUFFERTrajectoryTX=> packetHeader.dataType en BUFFERCommandTX=> %s\n",PacketMsg(packetH
 822:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTrajectoryTX=> header.datalength en BUFFERCommandTX=> %x\n", packetHeader.dataLength
 823:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTrajectoryTX=> packetHeader.dataChecksum en BUFFERCommandTX=> %x\n",packetHeader.dat
 824:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTrajectoryTX=> packetHeader.headerChecksum en BUFFERCommandTX=> %d\n",packetHeader.h
 825:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif
 826:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//coloco el packet Header en el TXBUFFER
 827:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader); 
 828:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	 //coloco los datos en el TXBUFFER independiente si es de tipo PacketTeachPendant 
 829:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//o PacketTrajectory uso PacketTrajectory  
 830:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)pTrajectory,PacketTrajectory); 
 831:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 832:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendTrajectory
 833:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 834:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 835:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // send axis limits information PC-uC uC-Pc
 836:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERAxisSettingsTX(tAxisSettings *paxisSettings) 
 837:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 838:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 839:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
 840:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 841:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tAxisSettings)*DOF+sizeof(tPacketHeader);		   
 842:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 843:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 844:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 845:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-9;						  
 846:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 847:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 848:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 849:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;						  	
 850:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}		
 851:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 852:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//sizeof(tAxisSettings)
 853:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketAxisSettings,Datasize,(uint8*)paxisSettings);
 854:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 855:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);        
 856:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el tAxisSttings en TXBUFFER
 857:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)paxisSettings,PacketAxisSettings);  
 858:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 859:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendAxisSettings
 860:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 861:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 862:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // send axis limits information
 863:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERAxisLimitsTX(tAxisLimits *paxisLimits) 
 864:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 865:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 866:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 867:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
 868:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 869:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tAxisLimits)+sizeof(tPacketHeader);	
 870:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 871:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 872:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 873:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-9;						  
 874:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 875:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 876:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 877:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;						  	
 878:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}		
 879:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 880:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//sizeof(tAxisLimits)
 881:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketAxisLimits,Datasize,(uint8*)paxisLimits);
 882:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 883:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
 884:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el tAxisLimits en TXBUFFER  
 885:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)paxisLimits,PacketAxisLimits);    
 886:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 887:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // sendAxisLimits
 888:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 889:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 890:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERVectorPoseTX(uint8 * pVectorpose) 
 891:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 892:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 893:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 894:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Num_data,Datasize;
 895:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16* pvectortemp;
 896:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 897:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     
 898:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	pvectortemp=(int16*)pVectorpose;
 899:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     Num_data=pvectortemp[0];
 900:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 901:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERVectorPoseTX => Numero de datos en pvectortemp[0] %X\n",Num_data);			
 902:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 903:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(int16)*Num_data+sizeof(tPacketHeader);		   
 904:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 905:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 906:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 907:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-(sizeof(tPacketHeader)+1);
 908:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 909:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 910:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 911:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-sizeof(tPacketHeader);
 912:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 913:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 914:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 915:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERVectorPoseTX => cantidad a mandar al PC %X\n",buffersize);			
 916:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERVectorPoseTX => Datasize = %X\n",Datasize);			
 917:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 918:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketPosesvector,Datasize,(uint8*)pVectorpose);
 919:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 920:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
 921:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el tAxisLimits en TXBUFFER  
 922:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)pVectorpose,PacketPosesvector);    
 923:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 924:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } 
 925:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 926:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 927:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 928:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERFechaTX(uint8 * Fecha) 
 929:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 930:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 931:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 932:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
 933:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 934:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 j;
 935:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 936:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     
 937:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tFecha)+sizeof(tPacketHeader);		   
 938:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 939:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 940:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 941:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-(sizeof(tPacketHeader)+1);	
 942:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 943:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 944:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 945:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-sizeof(tPacketHeader);	
 946:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 947:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 948:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
 949:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 950:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(j=0;j<Datasize;j++) 
 951:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****           printf("BUFFERFechaTX => Fecha[%d]=%X \n",j,Fecha[j]);
 952:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 953:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 954:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERFechaTX => cantidad a mandar al PC %X\n",buffersize);			
 955:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERFechaTX => Datasize = %X\n",Datasize);			
 956:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 957:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketFecha,Datasize,(uint8*)Fecha);
 958:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 959:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
 960:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto a Fecha en TXBUFFER  
 961:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)Fecha,PacketFecha);    
 962:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
 963:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } 
 964:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 965:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
 966:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERAlarmaTX(uint8 * AlarmaTX) 
 967:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 968:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
 969:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
 970:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
 971:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 972:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 j;
 973:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 974:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     
 975:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(tAlarm)+sizeof(tPacketHeader);		   
 976:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
 977:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 978:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
 979:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-(sizeof(tPacketHeader)+1);	
 980:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 981:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
 982:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
 983:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;	
 984:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
 985:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
 986:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
 987:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2
 988:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(j=0;j<Datasize;j++) 
 989:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****           printf("BUFFERFechaTX => AlarmaTX[%d]=%X \n",j,AlarmaTX[j]);
 990:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 991:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
 992:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERFechaTX => cantidad a mandar al PC %X\n",buffersize);			
 993:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERFechaTX => Datasize = %X\n",Datasize);			
 994:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
 995:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketAlarma,Datasize,(uint8*)AlarmaTX);
 996:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
 997:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
 998:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto a Fecha en TXBUFFER  
 999:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)AlarmaTX,PacketAlarma);    
1000:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
1001:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } 
1002:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1003:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1004:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*TraceTX la direccion del apuntador del primer dato*/
1005:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*Esta funcion mete en TXBUFFER los datos del trazador*/
1006:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERTraceTX(uint8 * TraceTX) 
1007:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1008:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int32     *pTraceBuffer;
1009:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
1010:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
1011:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	/*Estructuro el buffer a 32 bits*/
1012:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     pTraceBuffer=(int32*)TraceTX;
1013:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=(  pTraceBuffer[0]*sizeof(int32)) +sizeof(tPacketHeader)+(sizeof(int32)*3);		   
1014:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
1015:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1016:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
1017:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-(sizeof(tPacketHeader)+1);	
1018:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1019:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
1020:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1021:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;	
1022:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1023:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
1024:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
1025:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
1026:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTraceTX => cantidad a mandar al PC %X\n",buffersize);			
1027:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTraceTX => Datasize de 8bit = %X\n",Datasize);			
1028:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERTraceTX => Cantidad de datos de 32bit = %lX\n",pTraceBuffer[0]);			
1029:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
1030:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,PacketTrace,Datasize,(uint8*)TraceTX);
1031:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
1032:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
1033:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto a Fecha en TXBUFFER  
1034:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,TraceTX,PacketTrace);    
1035:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
1036:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
1037:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1038:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1039:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1040:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int BUFFERunit16TX(uint8 * unit16TX) 
1041:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1042:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1043:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tPacketHeader packetHeader;
1044:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 buffersize,Datasize;
1045:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1046:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1047:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	buffersize=sizeof(uint16) +sizeof(tPacketHeader);		   
1048:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esimpar(buffersize))
1049:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1050:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		buffersize++;		
1051:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-(sizeof(tPacketHeader)+1);	
1052:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1053:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	else
1054:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1055:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		Datasize=buffersize-8;	
1056:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1057:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
1058:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	TXBUFFER=(uint8*)declarar(buffersize);
1059:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1
1060:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERunit16TX => cantidad a mandar al PC %X\n",buffersize);			
1061:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERunit16TX => Datasize de 8bit = %X\n",Datasize);	
1062:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("BUFFERunit16TX => *unit16TX => %d\n",*unit16TX);	
1063:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				
1064:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		
1065:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	fillPacketHeader(&packetHeader,Packetuint16,Datasize,(uint8*)unit16TX);
1066:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto el header en TXBUFFER
1067:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,(uint8*)&packetHeader,PacketHeader);      
1068:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	// meto a Fecha en TXBUFFER  
1069:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	BUFFERPacketDataTX(&packetHeader,unit16TX,Packetuint16);    
1070:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return buffersize;
1071:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
1072:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1073:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // dispatch Packet 
1074:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 1. mediante txPacket (variable de tipo global), tiene el tipo de dato a enviar 
1075:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 2. Dependiendo de eso tratamos los datos 
1076:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 3. Se le reserva espacio a TXBUFFER
1077:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 3. llenamos de TXBUFFER con el header + datos
1078:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // 4. enviamos la informacion por el USB
1079:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _WIN32
1080:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 dispatchPacket(tPacket tipodato,uint8* datos,char Devicename[],HANDLE hDlg) 
1081:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1082:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 rc,puntos,buffersize;       //puntos:cantidad de puntos de la trayectoria que es esta enviad
1083:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 							//i: cantidad en bytes que se envia por el USB
1084:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int request;
1085:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	char buffertemp=00;
1086:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tTrajectory * Traytemp;//Trayectoria temporal para poder acceder a el campo size, que 
1087:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 							//la variable datos esta en formato tipo byte.
1088:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1089:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1090:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1091:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	txPacket=tipodato;
1092:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(txPacket == PacketNOP || txPacket > lastPacket) 
1093:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidPacket; 
1094:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 																			   //we won't send 'nothing'
1095:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1096:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(Esta_Conectado_USB(hDlg,Devicename)) 
1097:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1098:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		if (UsbGpifIDEL(hDlg,Devicename))                              //Esta ocupado debido a una tranfe
1099:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
1100:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			switch(txPacket) 
1101:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			{   
1102:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketTeachPendant:
1103:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketTrajectory:
1104:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					//Como dispatchPacket es una funcion generica los datos vienen en bytes
1105:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					Traytemp=(tTrajectory *)datos;  
1106:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					//Con puntos puedo calcular el numero de bytes que necesito								  
1107:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					puntos=Traytemp->size;          
1108:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERTrajectoryTX(Traytemp,puntos,txPacket);
1109:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1110:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketCommand:
1111:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERCommandTX((tCommand*)datos);
1112:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1113:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketString:       // send \0-terminated string, such as copyright or debug info
1114:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERStringTX(datos);
1115:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1116:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketAxisSettings:
1117:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERAxisSettingsTX((tAxisSettings*)datos);		   
1118:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1119:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketAxisLimits:
1120:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERAxisLimitsTX((tAxisLimits*)datos);
1121:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1122:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketPosesvector:
1123:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERVectorPoseTX(datos); 
1124:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1125:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketFecha:   // 14
1126:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERFechaTX(datos); 
1127:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1128:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketAlarma:
1129:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERAlarmaTX(datos); 
1130:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1131:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case PacketTrace:
1132:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERTraceTX(datos); 
1133:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1134:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				case Packetuint16:
1135:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 					buffersize=BUFFERunit16TX(datos);
1136:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				break;
1137:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				default:
1138:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				return rcInvalidPacket;
1139:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			} // switch txPacket
1140:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//Una vez acomodado el buffer mando la informacion
1141:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//Mando un request para interupir a el uC
1142:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//buffersize solo es par, es decir siempre el buffer es par. Aunque el dato a enviar 
1143:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//tenga una longitud de bytes impar. Internamente tPacketHeader.dataLength siempre
1144:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//tiene la cantidad de bytes correcta del dato.
1145:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			request=0xCA;
1146:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,Devicename);  
1147:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			rc=Mandar_datos_Por_USB(hDlg,0,TXBUFFER,buffersize,Devicename);//Finalmente se manda el buffer p
1148:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			free(TXBUFFER);
1149:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			return rc;
1150:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		}
1151:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcUnexpectedState;
1152:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1153:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return rcCommunicationError;
1154:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // dispatchPacket
1155:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
1156:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1157:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1158:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _AVR_IO_H_
1159:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int16 dispatchPacket(tPacket tipodato,uint8* datos)
1160:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1161:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel1						
1162:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Variables para string
1163:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 j;               
1164:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int8 * info;   
1165:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		          
1166:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#ifdef DEBUGUSBLevel2						
1167:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//Variables para command
1168:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 k;
1169:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	#endif		   
1170:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     //variables para enviar la trajectoria
1171:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	tTrajectory * Traytemp;//Trayectoria temporal para poder acceder a el campo size,
1172:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     int16 puntos;
1173:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     //Variables Transmicion 
1174:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 rc,buffersize=0;       
1175:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1176:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	txPacket=tipodato;
1177:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(txPacket == PacketNOP || txPacket > lastPacket) 
1178:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return rcInvalidPacket;   
1179:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1180:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	switch(txPacket)  
1181:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{  
1182:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTeachPendant:
1183:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTrajectory :
1184:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			// Como dispatchPacket es una funcion generica los datos vienen en bytes   
1185:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			Traytemp=(tTrajectory *)datos;  
1186:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//Con puntos puedo calcular el numero de bytes que necesito								  
1187:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			puntos=Traytemp->size;          
1188:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			//4 bytes por los dos campos int16 de la estructura trayectoria			
1189:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERTrajectoryTX(Traytemp,puntos,txPacket); 
1190:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****         break;
1191:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketCommand:
1192:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERCommandTX((tCommand*)datos);
1193:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel1						
1194:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("dispatchPacket=> Addr de txCommand en dispatchPacket => %X\n",(int16)&datos);							    
1195:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif		   
1196:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel2						
1197:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			for(k=0; k<buffersize;k++) 
1198:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****             printf("dispatchPacket => TXBUFFER[%d]=%X\n",k,TXBUFFER[k]);							    
1199:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif		   
1200:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1201:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketString:    // send \0-terminated string, such as copyright or debug info   
1202:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERStringTX(datos);
1203:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#ifdef DEBUGUSBLevel1
1204:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			info=(int8*)datos;
1205:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			j=strlen((char*)info);
1206:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("dispatchPacket=> strlen(info) en dispatchPacket=>%d \n",j);		   
1207:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("dispatchPacket=> Tamaño de los datos en dispatchPacket=>%d \n",buffersize);
1208:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			#endif
1209:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1210:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAxisSettings:
1211:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERAxisSettingsTX((tAxisSettings*)datos);		   
1212:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1213:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAxisLimits:
1214:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERAxisLimitsTX((tAxisLimits*)datos);
1215:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1216:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketPosesvector:
1217:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		    buffersize=BUFFERVectorPoseTX(datos); 
1218:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1219:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketFecha:   // 14
1220:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERFechaTX(datos); 
1221:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1222:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketAlarma:
1223:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERAlarmaTX(datos); 
1224:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1225:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case PacketTrace:
1226:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERTraceTX(datos);
1227:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1228:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case Packetuint16:
1229:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			buffersize=BUFFERunit16TX(datos);
1230:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		break;
1231:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		default:
1232:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			return rcInvalidPacket;
1233:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     } // switch txPacket
1234:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//buffersize solo es par, es decir siempre el buffer es par. Aunque el dato a enviar 
1235:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//tenga una longitud de bytes impar. Internamente tPacketHeader.dataLength siempre
1236:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	//tiene la cantidad de bytes correcta del dato.
1237:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc=Envio_USB(TXBUFFER,buffersize);  
1238:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	free(TXBUFFER);
1239:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** return rc;
1240:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // dispatchPacket
1241:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1242:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
1243:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1244:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1245:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int Esimpar(int i)
1246:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 799               	246,.LM62-.LFBB7
 800               	.LM62:
 801               	.LFBB7:
 802               	/* prologue: function */
 803               	/* frame size = 0 */
 805               	.LM63:
 806 02be 62E0      		ldi r22,lo8(2)
 807 02c0 70E0      		ldi r23,hi8(2)
 808 02c2 0E94 0000 		call __divmodhi4
 809 02c6 9C01      		movw r18,r24
 810 02c8 0097      		sbiw r24,0
 811 02ca 01F0      		breq .L50
 812 02cc 21E0      		ldi r18,lo8(1)
 813 02ce 30E0      		ldi r19,hi8(1)
 814               	.L50:
1247:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int residuo=0;
1248:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****     
1249:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	residuo= i % 2;
1250:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1251:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(residuo==0)
1252:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		return FALSE;
1253:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
1254:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return TRUE;
1255:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
 815               	5,.LM64-.LFBB7
 816               	.LM64:
 817 02d0 C901      		movw r24,r18
 818               	/* epilogue start */
 819 02d2 0895      		ret
 821               	.Lscope7:
 824               	.global	Axis2AxisMask
 826               	Axis2AxisMask:
1256:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _WIN32
1257:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1258:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1259:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** void Mandar_uCreset(char DeviceName[],HWND hDlg)
1260:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1261:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int request,rc;  
1262:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	char buffertemp=00;  
1263:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	char rest[6]="Reset";
1264:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1265:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1266:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	request=0xC5;
1267:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc=Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,DeviceName); //Mando reset al atmega 
1268:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rc==rcOK)
1269:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	MessageBox(hDlg,"El Controlador se ha reiniciado correctamente", "Informacion", MB_OK);
1270:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1271:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
1272:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1273:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** int Mandar_Parada(char DeviceName[],HWND hDlg)
1274:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
1275:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int request,rc;  
1276:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	char buffertemp=00;  
1277:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1278:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	request=0xCC;
1279:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	rc=Mandar_verdorR(hDlg,(UCHAR)request,&buffertemp,DeviceName); //Mando reset al atmega
1280:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	if(rc==rcOK)
1281:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	MessageBox(hDlg,"Se ha efectuado una parada de emergencia en el Robot", "Informacion", MB_OK);
1282:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1283:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	return 0;
1284:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
1285:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1286:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #endif
1287:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1288:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1289:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** #ifdef _AVR_IO_H_
1290:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** // mapping which (logical) axis is to find on which MaskAxis corresponds to Axis:
1291:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** AxisMask Axis2AxisMask(tAxis Axis)
1292:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 827               	,1292,.LM65-.LFBB8
 828               	.LM65:
 829               	.LFBB8:
 830               	/* prologue: function */
 831               	/* frame size = 0 */
1293:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	switch(Axis) 
 832               	bn	68,0,1293,.LM66-.LFBB8
 833               	.LM66:
 834 02d4 8330      		cpi r24,3
 835 02d6 9105      		cpc r25,__zero_reg__
 836 02d8 01F0      		breq .L57
 837 02da 8430      		cpi r24,4
 838 02dc 9105      		cpc r25,__zero_reg__
 839 02de 04F4      		brge .L62
 840 02e0 8130      		cpi r24,1
 841 02e2 9105      		cpc r25,__zero_reg__
 842 02e4 01F0      		breq .L55
 843 02e6 8230      		cpi r24,2
 844 02e8 9105      		cpc r25,__zero_reg__
 845 02ea 04F4      		brge .L56
 846 02ec 892B      		or r24,r25
 847 02ee 01F0      		breq .L54
 848 02f0 00C0      		rjmp .L53
 849               	.L62:
 850 02f2 8530      		cpi r24,5
 851 02f4 9105      		cpc r25,__zero_reg__
 852 02f6 01F0      		breq .L59
 853 02f8 8530      		cpi r24,5
 854 02fa 9105      		cpc r25,__zero_reg__
 855 02fc 04F0      		brlt .L58
 856 02fe 8630      		cpi r24,6
 857 0300 9105      		cpc r25,__zero_reg__
 858 0302 01F0      		breq .L60
 859 0304 0797      		sbiw r24,7
 860 0306 01F4      		brne .L53
 861 0308 00C0      		rjmp .L65
 862               	.L55:
 863 030a 22E0      		ldi r18,lo8(2)
 864 030c 30E0      		ldi r19,hi8(2)
 865 030e 00C0      		rjmp .L63
 866               	.L54:
 867 0310 21E0      		ldi r18,lo8(1)
 868 0312 30E0      		ldi r19,hi8(1)
 869 0314 00C0      		rjmp .L63
 870               	.L56:
 871 0316 24E0      		ldi r18,lo8(4)
 872 0318 30E0      		ldi r19,hi8(4)
 873 031a 00C0      		rjmp .L63
 874               	.L57:
1294:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1295:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisWaist 		: 	return WaistMask; 
1296:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisShoulder 	: 	return ShoulderMask; 
1297:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisElbow 		:	return ElbowMask; 
 875               	r18,lo8(8)
 876               		ldi r19,hi8(8)
 877 031c 28E0      		rjmp .L63
 878 031e 30E0      	.L58:
 880               	.LM68:
1298:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisPitch 		: 	return PitchMask; 
 881               	18,lo8(16)
 882               		ldi r19,hi8(16)
 883 0322 20E1      		rjmp .L63
 884 0324 30E0      	.L59:
 886               	.LM69:
1299:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
1300:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisRoll 		: 	return RollMask;
 887               	18,lo8(32)
 888               		ldi r19,hi8(32)
 889 0328 20E2      		rjmp .L63
 890 032a 30E0      	.L60:
 892               	.LM70:
1301:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisAux1 		: 	return Aux1Mask; 
 893               	18,lo8(64)
 894               		ldi r19,hi8(64)
 895 032e 20E4      		rjmp .L63
 896 0330 30E0      	.L65:
 898               	.LM71:
1302:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisAux2 		: 	return Aux2Mask;    
 899               	18,lo8(128)
 900               		ldi r19,hi8(128)
 901 0334 20E8      		rjmp .L63
 902 0336 30E0      	.L53:
 904               	.LM72:
1303:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		case AxisAux3 		: 	return Aux3Mask; 			
 905               	18,lo8(0)
 906               		ldi r19,hi8(0)
 907 033a 20E0      	.L63:
 909               	.LM73:
1304:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		
1305:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		default 			: 	return NOAxisMask;
1306:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}
1307:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c ****   return PMDAxis1;  // we must return something
1308:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** } // Axis2AxisMask
 910               	 r24,r18
 911               	/* epilogue start */
 912 033e C901      		ret
 914 0340 0895      	.Lscope8:
 915               		.data
 916               	.LC0:
 917               		.string	"BUFFERPacketDataTX=> pdata[%d-sizeof(tPacketHeader)] = %d \n"
 918               		.text
 923               	.global	BUFFERPacketDataTX
 925               	BUFFERPacketDataTX:
 927               	.LM74:
 928               	.LFBB9:
 929               		push r10
 930               		push r11
 931 0342 AF92      		push r12
 932 0344 BF92      		push r13
 933 0346 CF92      		push r14
 934 0348 DF92      		push r15
 935 034a EF92      		push r16
 936 034c FF92      		push r17
 937 034e 0F93      		push r28
 938 0350 1F93      		push r29
 939 0352 CF93      	/* prologue: function */
 940 0354 DF93      	/* frame size = 0 */
 941               		movw r16,r24
 942               		movw r28,r22
 943 0356 8C01      		movw r14,r20
 945 035a 7A01      	.LM75:
 946               		cpi r20,3
 947               		cpc r21,__zero_reg__
 948 035c 4330      		brge .+2
 949 035e 5105      		rjmp .L67
 950 0360 04F4      		cpi r20,5
 951 0362 00C0      		cpc r21,__zero_reg__
 952 0364 4530      		brlt .L68
 953 0366 5105      		cpi r20,8
 954 0368 04F0      		cpc r21,__zero_reg__
 955 036a 4830      		brne .L67
 956 036c 5105      		ldi r18,lo8(0)
 957 036e 01F4      		ldi r19,hi8(0)
 958 0370 20E0      		rjmp .L70
 959 0372 30E0      	.L68:
 960 0374 00C0      		movw r26,r22
 961               		ldi r18,lo8(8)
 962 0376 DB01      		ldi r19,hi8(8)
 963 0378 28E0      		rjmp .L71
 964 037a 30E0      	.L72:
 966               	.LM76:
 967               		lds r30,TXBUFFER
 968               		lds r31,(TXBUFFER)+1
 969 037e E091 0000 		add r30,r18
 970 0382 F091 0000 		adc r31,r19
 971 0386 E20F      		movw r26,r28
 972 0388 F31F      		add r26,r18
 973 038a DE01      		adc r27,r19
 974 038c A20F      		ld r24,X
 975 038e B31F      		st Z,r24
 977 0392 8083      	.LM77:
 978               		subi r18,lo8(-(1))
 979               		sbci r19,hi8(-(1))
 980 0394 2F5F      	.L70:
 981 0396 3F4F      		cpi r18,8
 982               		cpc r19,__zero_reg__
 983 0398 2830      		brne .L72
 984 039a 3105      		rjmp .L80
 985 039c 01F4      	.L74:
 987               	.LM78:
 988               		lds r30,TXBUFFER
 989               		lds r31,(TXBUFFER)+1
 990 03a0 E091 0000 		add r30,r18
 991 03a4 F091 0000 		adc r31,r19
 992 03a8 E20F      		ld r24,X+
 993 03aa F31F      		st Z,r24
 995 03ae 8083      	.LM79:
 996               		subi r18,lo8(-(1))
 997               		sbci r19,hi8(-(1))
 998 03b0 2F5F      	.L71:
 999 03b2 3F4F      		cpi r18,12
 1000               		cpc r19,__zero_reg__
 1001 03b4 2C30      		brne .L74
 1002 03b6 3105      		ldd r26,Y+4
 1003 03b8 01F4      		ldd r27,Y+5
 1004 03ba AC81      		ldi r18,lo8(12)
 1005 03bc BD81      		ldi r19,hi8(12)
 1006 03be 2CE0      		rjmp .L75
 1007 03c0 30E0      	.L76:
 1009               	.LM80:
 1010               		lds r30,TXBUFFER
 1011               		lds r31,(TXBUFFER)+1
 1012 03c4 E091 0000 		add r30,r18
 1013 03c8 F091 0000 		adc r31,r19
 1014 03cc E20F      		ld r24,X+
 1015 03ce F31F      		st Z,r24
 1017 03d2 8083      	.LM81:
 1018               		subi r18,lo8(-(1))
 1019               		sbci r19,hi8(-(1))
 1020 03d4 2F5F      	.L75:
 1021 03d6 3F4F      		movw r30,r16
 1022               		ldd r24,Z+2
 1023 03d8 F801      		ldd r25,Z+3
 1024 03da 8281      		adiw r24,12
 1025 03dc 9381      		cp r18,r24
 1026 03de 0C96      		cpc r19,r25
 1027 03e0 2817      		brlt .L76
 1028 03e2 3907      		rjmp .L80
 1029 03e4 04F0      	.L67:
 1031               	.LM82:
 1032               		movw r26,r16
 1033               		adiw r26,2
 1034 03e8 D801      		ld r12,X+
 1035 03ea 1296      		ld r13,X
 1036 03ec CD90      		sbiw r26,2+1
 1037 03ee DC90      		ldi r30,lo8(8)
 1038 03f0 1397      		ldi r31,hi8(8)
 1039 03f2 E8E0      		add r12,r30
 1040 03f4 F0E0      		adc r13,r31
 1041 03f6 CE0E      		movw r16,r28
 1042 03f8 DF1E      		ldi r28,lo8(8)
 1043 03fa 8E01      		ldi r29,hi8(8)
 1045 03fe D0E0      	.LM83:
 1046               		ldi r25,lo8(.LC0)
 1047               		mov r10,r25
 1048 0400 90E0      		ldi r25,hi8(.LC0)
 1049 0402 A92E      		mov r11,r25
 1050 0404 90E0      		rjmp .L77
 1051 0406 B92E      	.L79:
 1053               	.LM84:
 1054               		lds r30,TXBUFFER
 1055               		lds r31,(TXBUFFER)+1
 1056 040a E091 0000 		add r30,r28
 1057 040e F091 0000 		adc r31,r29
 1058 0412 EC0F      		movw r26,r16
 1059 0414 FD1F      		ld r24,X
 1060 0416 D801      		st Z,r24
 1062 041a 8083      	.LM85:
 1063               		ldi r27,lo8(13)
 1064               		cp r14,r27
 1065 041c BDE0      		cpc r15,__zero_reg__
 1066 041e EB16      		brne .L78
 1068 0422 01F4      	.LM86:
 1069               		rcall .
 1070               		rcall .
 1071 0424 00D0      		rcall .
 1072 0426 00D0      		in r30,__SP_L__
 1073 0428 00D0      		in r31,__SP_H__
 1074 042a EDB7      		adiw r30,1
 1075 042c FEB7      		in r26,__SP_L__
 1076 042e 3196      		in r27,__SP_H__
 1077 0430 ADB7      		adiw r26,1+1
 1078 0432 BEB7      		st X,r11
 1079 0434 1296      		st -X,r10
 1080 0436 BC92      		sbiw r26,1
 1081 0438 AE92      		std Z+3,r29
 1082 043a 1197      		std Z+2,r28
 1083 043c D383      		movw r26,r16
 1084 043e C283      		ld r24,X
 1085 0440 D801      		std Z+4,r24
 1086 0442 8C91      		std Z+5,__zero_reg__
 1087 0444 8483      		call printf
 1088 0446 1582      		in r30,__SP_L__
 1089 0448 0E94 0000 		in r31,__SP_H__
 1090 044c EDB7      		adiw r30,6
 1091 044e FEB7      		in __tmp_reg__,__SREG__
 1092 0450 3696      		cli
 1093 0452 0FB6      		out __SP_H__,r31
 1094 0454 F894      		out __SREG__,__tmp_reg__
 1095 0456 FEBF      		out __SP_L__,r30
 1096 0458 0FBE      	.L78:
 1098               	.LM87:
 1099               		adiw r28,1
 1100               		subi r16,lo8(-(1))
 1101 045c 2196      		sbci r17,hi8(-(1))
 1102 045e 0F5F      	.L77:
 1103 0460 1F4F      		cp r28,r12
 1104               		cpc r29,r13
 1105 0462 CC15      		brlt .L79
 1106 0464 DD05      	.L80:
 1107 0466 04F0      	/* epilogue start */
 1109               	.LM88:
 1110               		pop r29
 1111               		pop r28
 1112 0468 DF91      		pop r17
 1113 046a CF91      		pop r16
 1114 046c 1F91      		pop r15
 1115 046e 0F91      		pop r14
 1116 0470 FF90      		pop r13
 1117 0472 EF90      		pop r12
 1118 0474 DF90      		pop r11
 1119 0476 CF90      		pop r10
 1120 0478 BF90      		ret
 1126               	.Lscope9:
 1127               		.data
 1128               	.LC1:
 1129               		.ascii	"Print_rxTrajectory"
 1130               		.string	"=> El Numero de puntos de la trayectoria es en packetIO.c => %d\n"
 1131 003c 5072 696E 	.LC2:
 1131      745F 7278 
 1131      5472 616A 
 1131      6563 746F 
 1131      7279 
 1132 004e 3D3E 2045 		.string	"Print_rxTrajectory=> invalid mask en packetIO.c => %X\n"
 1132      6C20 4E75 
 1132      6D65 726F 
 1132      2064 6520 
 1132      7075 6E74 
 1133               	.LC3:
 1134 008f 5072 696E 		.ascii	"Print_"
 1134      745F 7278 
 1134      5472 616A 
 1134      6563 746F 
 1134      7279 3D3E 
 1135               		.string	"rxTrajectory=> En el punto %d de la trayectoria....(packetIO.c)\n"
 1136 00c6 5072 696E 	.LC4:
 1136      745F 
 1137 00cc 7278 5472 		.string	"Print_rxTrajectory=> La posicion de %s es en packetIO.c => %ld\n"
 1137      616A 6563 
 1137      746F 7279 
 1137      3D3E 2045 
 1137      6E20 656C 
 1138               	.LC5:
 1139 010d 5072 696E 		.string	"Print_rxTrajectory=> La velocidad de %s es en packetIO.c => %ld\n"
 1139      745F 7278 
 1139      5472 616A 
 1139      6563 746F 
 1139      7279 3D3E 
 1140               	.LC6:
 1141 014d 5072 696E 		.ascii	"Pr"
 1141      745F 7278 
 1141      5472 616A 
 1141      6563 746F 
 1141      7279 3D3E 
 1142               		.string	"int_rxTrajectory=> La aceleracion de %s es en packetIO.c => %ld\n"
 1143 018e 5072      	.LC7:
 1144 0190 696E 745F 		.string	"%d"
 1144      7278 5472 
 1144      616A 6563 
 1144      746F 7279 
 1144      3D3E 204C 
 1145               		.text
 1147               	.global	Print_rxTrajectory
 1149               	Print_rxTrajectory:
 1151               	.LM89:
1309:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1310:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 
1311:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** /*****************************************************************************************/
1312:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** void Print_rxTrajectory(void)
1313:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** {
 1152               	FBB10:
 1153               		push r2
 1154               		push r3
 1155 047e 2F92      		push r4
 1156 0480 3F92      		push r5
 1157 0482 4F92      		push r6
 1158 0484 5F92      		push r7
 1159 0486 6F92      		push r8
 1160 0488 7F92      		push r9
 1161 048a 8F92      		push r10
 1162 048c 9F92      		push r11
 1163 048e AF92      		push r12
 1164 0490 BF92      		push r13
 1165 0492 CF92      		push r14
 1166 0494 DF92      		push r15
 1167 0496 EF92      		push r16
 1168 0498 FF92      		push r17
 1169 049a 0F93      		push r29
 1170 049c 1F93      		push r28
 1171 049e DF93      		rcall .
 1172 04a0 CF93      		in r28,__SP_L__
 1173 04a2 00D0      		in r29,__SP_H__
 1174 04a4 CDB7      	/* prologue: function */
 1175 04a6 DEB7      	/* frame size = 2 */
 1177               	.LM90:
1314:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	int16 pointIndex,axis,stop;
1315:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1316:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("Print_rxTrajectory=> El Numero de puntos de la trayectoria es en packetIO.c => %d\n",rxTra
 1178               	,lo8(.LC1)
 1179               		ldi r25,hi8(.LC1)
 1180 04a8 00D0      		in r30,__SP_L__
 1181 04aa 00D0      		in r31,__SP_H__
 1182 04ac 80E0      		std Z+2,r25
 1183 04ae 90E0      		std Z+1,r24
 1184 04b0 EDB7      		lds r24,rxTrajectory
 1185 04b2 FEB7      		lds r25,(rxTrajectory)+1
 1186 04b4 9283      		std Z+4,r25
 1187 04b6 8183      		std Z+3,r24
 1188 04b8 8091 0000 		call printf
 1190 04c0 9483      	.LM91:
 1191 04c2 8383      		ldi r24,lo8(.LC2)
 1192 04c4 0E94 0000 		ldi r25,hi8(.LC2)
1317:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	printf("Print_rxTrajectory=> invalid mask en packetIO.c => %X\n",rxTrajectory.invalidmask);
 1193               	_
 1194               		in r31,__SP_H__
 1195 04c8 80E0      		std Z+2,r25
 1196 04ca 90E0      		std Z+1,r24
 1197 04cc EDB7      		lds r24,rxTrajectory+2
 1198 04ce FEB7      		lds r25,(rxTrajectory+2)+1
 1199 04d0 9283      		std Z+4,r25
 1200 04d2 8183      		std Z+3,r24
 1201 04d4 8091 0000 		call printf
 1202 04d8 9091 0000 		clr r8
 1203 04dc 9483      		clr r9
 1204 04de 8383      		clr r10
 1205 04e0 0E94 0000 		clr r11
 1206 04e4 8824      		pop __tmp_reg__
 1207 04e6 9924      		pop __tmp_reg__
 1208 04e8 AA24      		pop __tmp_reg__
 1209 04ea BB24      		pop __tmp_reg__
 1211 04ee 0F90      	.LM92:
 1212 04f0 0F90      		ldi r30,lo8(.LC6)
 1213 04f2 0F90      		mov r2,r30
1318:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1319:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	
1320:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	for(pointIndex=0;pointIndex < rxTrajectory.size;pointIndex++)
1321:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	{
1322:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		printf("Print_rxTrajectory=> En el punto %d de la trayectoria....(packetIO.c)\n",pointIndex+1);
1323:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			
1324:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		for(axis=0; axis < DOF; axis++) 
1325:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		{
1326:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("Print_rxTrajectory=> La posicion de %s es en packetIO.c => %ld\n",AxisName(axis),
1327:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				   rxTrajectory.point[pointIndex].axis[axis].position);
1328:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("Print_rxTrajectory=> La velocidad de %s es en packetIO.c => %ld\n",AxisName(axis),
1329:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				   rxTrajectory.point[pointIndex].axis[axis].velocity);
1330:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			printf("Print_rxTrajectory=> La aceleracion de %s es en packetIO.c => %ld\n",AxisName(axis),
 1214               	ov r3,r30
 1216 04f4 E0E0      	.LM93:
 1217 04f6 2E2E      		ldi r23,lo8(.LC7)
 1218 04f8 E0E0      		mov r4,r23
 1219 04fa 3E2E      		ldi r23,hi8(.LC7)
1331:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 				   rxTrajectory.point[pointIndex].axis[axis].acceleration);
1332:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			scanf("%d",&stop);
 1220               	5,r23
 1221               		movw r6,r28
 1222 04fc 70E0      		sec
 1223 04fe 472E      		adc r6,__zero_reg__
 1224 0500 70E0      		adc r7,__zero_reg__
 1225 0502 572E      		rjmp .L82
 1226 0504 3E01      	.L84:
 1228 0508 611C      	.LM94:
 1229 050a 711C      		sec
 1230 050c 00C0      		adc r8,__zero_reg__
 1231               		adc r9,__zero_reg__
 1232               		rcall .
 1233               		rcall .
 1234 050e 0894      		ldi r18,lo8(.LC3)
 1235 0510 811C      		ldi r19,hi8(.LC3)
 1236 0512 911C      		in r30,__SP_L__
 1237 0514 00D0      		in r31,__SP_H__
 1238 0516 00D0      		std Z+2,r19
 1239 0518 20E0      		std Z+1,r18
 1240 051a 30E0      		std Z+4,r9
 1241 051c EDB7      		std Z+3,r8
 1242 051e FEB7      		call printf
 1243 0520 3283      		clr r12
 1244 0522 2183      		clr r13
 1245 0524 9482      		pop __tmp_reg__
 1246 0526 8382      		pop __tmp_reg__
 1247 0528 0E94 0000 		pop __tmp_reg__
 1248 052c CC24      		pop __tmp_reg__
 1249 052e DD24      	.L83:
 1251 0532 0F90      	.LM95:
 1252 0534 0F90      		movw r24,r12
 1253 0536 0F90      		call AxisName
 1254               		in r20,__SP_L__
 1255               		in r21,__SP_H__
 1256               		subi r20,lo8(-(-8))
 1257 0538 C601      		sbci r21,hi8(-(-8))
 1258 053a 0E94 0000 		in __tmp_reg__,__SREG__
 1259 053e 4DB7      		cli
 1260 0540 5EB7      		out __SP_H__,r21
 1261 0542 4850      		out __SREG__,__tmp_reg__
 1262 0544 5040      		out __SP_L__,r20
 1263 0546 0FB6      		in r18,__SP_L__
 1264 0548 F894      		in r19,__SP_H__
 1265 054a 5EBF      		subi r18,lo8(-(1))
 1266 054c 0FBE      		sbci r19,hi8(-(1))
 1267 054e 4DBF      		ldi r20,lo8(.LC4)
 1268 0550 2DB7      		ldi r21,hi8(.LC4)
 1269 0552 3EB7      		in r30,__SP_L__
 1270 0554 2F5F      		in r31,__SP_H__
 1271 0556 3F4F      		std Z+2,r21
 1272 0558 40E0      		std Z+1,r20
 1273 055a 50E0      		movw r30,r18
 1274 055c EDB7      		std Z+3,r25
 1275 055e FEB7      		std Z+2,r24
 1276 0560 5283      		lds r30,rxTrajectory+4
 1277 0562 4183      		lds r31,(rxTrajectory+4)+1
 1278 0564 F901      		add r30,r10
 1279 0566 9383      		adc r31,r11
 1280 0568 8283      		movw r16,r12
 1281 056a E091 0000 		lsl r16
 1282 056e F091 0000 		rol r17
 1283 0572 EA0D      		add r16,r12
 1284 0574 FB1D      		adc r17,r13
 1285 0576 8601      		movw r14,r16
 1286 0578 000F      		lsl r14
 1287 057a 111F      		rol r15
 1288 057c 0C0D      		lsl r14
 1289 057e 1D1D      		rol r15
 1290 0580 7801      		add r30,r14
 1291 0582 EE0C      		adc r31,r15
 1292 0584 FF1C      		ld r24,Z
 1293 0586 EE0C      		ldd r25,Z+1
 1294 0588 FF1C      		ldd r26,Z+2
 1295 058a EE0D      		ldd r27,Z+3
 1296 058c FF1D      		movw r30,r18
 1297 058e 8081      		std Z+4,r24
 1298 0590 9181      		std Z+5,r25
 1299 0592 A281      		std Z+6,r26
 1300 0594 B381      		std Z+7,r27
 1301 0596 F901      		call printf
 1303 059a 9583      	.LM96:
 1304 059c A683      		in r18,__SP_L__
 1305 059e B783      		in r19,__SP_H__
 1306 05a0 0E94 0000 		subi r18,lo8(-(8))
 1307               		sbci r19,hi8(-(8))
 1308               		in __tmp_reg__,__SREG__
 1309 05a4 2DB7      		cli
 1310 05a6 3EB7      		out __SP_H__,r19
 1311 05a8 285F      		out __SREG__,__tmp_reg__
 1312 05aa 3F4F      		out __SP_L__,r18
 1313 05ac 0FB6      		movw r24,r12
 1314 05ae F894      		call AxisName
 1315 05b0 3EBF      		in r20,__SP_L__
 1316 05b2 0FBE      		in r21,__SP_H__
 1317 05b4 2DBF      		subi r20,lo8(-(-8))
 1318 05b6 C601      		sbci r21,hi8(-(-8))
 1319 05b8 0E94 0000 		in __tmp_reg__,__SREG__
 1320 05bc 4DB7      		cli
 1321 05be 5EB7      		out __SP_H__,r21
 1322 05c0 4850      		out __SREG__,__tmp_reg__
 1323 05c2 5040      		out __SP_L__,r20
 1324 05c4 0FB6      		in r18,__SP_L__
 1325 05c6 F894      		in r19,__SP_H__
 1326 05c8 5EBF      		subi r18,lo8(-(1))
 1327 05ca 0FBE      		sbci r19,hi8(-(1))
 1328 05cc 4DBF      		ldi r20,lo8(.LC5)
 1329 05ce 2DB7      		ldi r21,hi8(.LC5)
 1330 05d0 3EB7      		in r30,__SP_L__
 1331 05d2 2F5F      		in r31,__SP_H__
 1332 05d4 3F4F      		std Z+2,r21
 1333 05d6 40E0      		std Z+1,r20
 1334 05d8 50E0      		movw r30,r18
 1335 05da EDB7      		std Z+3,r25
 1336 05dc FEB7      		std Z+2,r24
 1337 05de 5283      		lds r30,rxTrajectory+4
 1338 05e0 4183      		lds r31,(rxTrajectory+4)+1
 1339 05e2 F901      		add r30,r10
 1340 05e4 9383      		adc r31,r11
 1341 05e6 8283      		subi r16,lo8(-(1))
 1342 05e8 E091 0000 		sbci r17,hi8(-(1))
 1343 05ec F091 0000 		lsl r16
 1344 05f0 EA0D      		rol r17
 1345 05f2 FB1D      		lsl r16
 1346 05f4 0F5F      		rol r17
 1347 05f6 1F4F      		add r30,r16
 1348 05f8 000F      		adc r31,r17
 1349 05fa 111F      		ld r24,Z
 1350 05fc 000F      		ldd r25,Z+1
 1351 05fe 111F      		ldd r26,Z+2
 1352 0600 E00F      		ldd r27,Z+3
 1353 0602 F11F      		movw r30,r18
 1354 0604 8081      		std Z+4,r24
 1355 0606 9181      		std Z+5,r25
 1356 0608 A281      		std Z+6,r26
 1357 060a B381      		std Z+7,r27
 1358 060c F901      		call printf
 1360 0610 9583      	.LM97:
 1361 0612 A683      		in r18,__SP_L__
 1362 0614 B783      		in r19,__SP_H__
 1363 0616 0E94 0000 		subi r18,lo8(-(8))
 1364               		sbci r19,hi8(-(8))
 1365               		in __tmp_reg__,__SREG__
 1366 061a 2DB7      		cli
 1367 061c 3EB7      		out __SP_H__,r19
 1368 061e 285F      		out __SREG__,__tmp_reg__
 1369 0620 3F4F      		out __SP_L__,r18
 1370 0622 0FB6      		movw r24,r12
 1371 0624 F894      		call AxisName
 1372 0626 3EBF      		in r20,__SP_L__
 1373 0628 0FBE      		in r21,__SP_H__
 1374 062a 2DBF      		subi r20,lo8(-(-8))
 1375 062c C601      		sbci r21,hi8(-(-8))
 1376 062e 0E94 0000 		in __tmp_reg__,__SREG__
 1377 0632 4DB7      		cli
 1378 0634 5EB7      		out __SP_H__,r21
 1379 0636 4850      		out __SREG__,__tmp_reg__
 1380 0638 5040      		out __SP_L__,r20
 1381 063a 0FB6      		in r18,__SP_L__
 1382 063c F894      		in r19,__SP_H__
 1383 063e 5EBF      		subi r18,lo8(-(1))
 1384 0640 0FBE      		sbci r19,hi8(-(1))
 1385 0642 4DBF      		in r30,__SP_L__
 1386 0644 2DB7      		in r31,__SP_H__
 1387 0646 3EB7      		std Z+2,r3
 1388 0648 2F5F      		std Z+1,r2
 1389 064a 3F4F      		movw r30,r18
 1390 064c EDB7      		std Z+3,r25
 1391 064e FEB7      		std Z+2,r24
 1392 0650 3282      		lds r30,rxTrajectory+4
 1393 0652 2182      		lds r31,(rxTrajectory+4)+1
 1394 0654 F901      		add r30,r10
 1395 0656 9383      		adc r31,r11
 1396 0658 8283      		add r30,r14
 1397 065a E091 0000 		adc r31,r15
 1398 065e F091 0000 		ldd r24,Z+8
 1399 0662 EA0D      		ldd r25,Z+9
 1400 0664 FB1D      		ldd r26,Z+10
 1401 0666 EE0D      		ldd r27,Z+11
 1402 0668 FF1D      		movw r30,r18
 1403 066a 8085      		std Z+4,r24
 1404 066c 9185      		std Z+5,r25
 1405 066e A285      		std Z+6,r26
 1406 0670 B385      		std Z+7,r27
 1407 0672 F901      		call printf
 1409 0676 9583      	.LM98:
 1410 0678 A683      		pop __tmp_reg__
 1411 067a B783      		pop __tmp_reg__
 1412 067c 0E94 0000 		pop __tmp_reg__
 1413               		pop __tmp_reg__
 1414               		in r30,__SP_L__
 1415 0680 0F90      		in r31,__SP_H__
 1416 0682 0F90      		std Z+2,r5
 1417 0684 0F90      		std Z+1,r4
 1418 0686 0F90      		std Z+4,r7
 1419 0688 EDB7      		std Z+3,r6
 1420 068a FEB7      		call scanf
 1422 068e 4182      	.LM99:
 1423 0690 7482      		sec
 1424 0692 6382      		adc r12,__zero_reg__
 1425 0694 0E94 0000 		adc r13,__zero_reg__
 1426               		pop __tmp_reg__
 1427               		pop __tmp_reg__
 1428 0698 0894      		pop __tmp_reg__
 1429 069a C11C      		pop __tmp_reg__
 1430 069c D11C      		ldi r31,lo8(5)
 1431 069e 0F90      		cp r12,r31
 1432 06a0 0F90      		cpc r13,__zero_reg__
 1433 06a2 0F90      		breq .+2
 1434 06a4 0F90      		rjmp .L83
 1435 06a6 F5E0      		ldi r18,lo8(61)
 1436 06a8 CF16      		ldi r19,hi8(61)
 1437 06aa D104      		add r10,r18
 1438 06ac 01F0      		adc r11,r19
 1439 06ae 00C0      	.L82:
 1441 06b2 30E0      	.LM100:
 1442 06b4 A20E      		lds r24,rxTrajectory
 1443 06b6 B31E      		lds r25,(rxTrajectory)+1
 1444               		cp r8,r24
 1445               		cpc r9,r25
 1446               		brge .+2
 1447 06b8 8091 0000 		rjmp .L84
 1448 06bc 9091 0000 	/* epilogue start */
 1450 06c2 9906      	.LM101:
 1451 06c4 04F4      		pop __tmp_reg__
 1452 06c6 00C0      		pop __tmp_reg__
 1453               		pop r28
1333:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 			
1334:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 		} 
1335:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** 	}	
1336:C:/Jarboter_V_2_1/Comunicacion/Interface_PC_Controlador/C/packetIO.c **** }
 1454               	
 1459 06ce DF91      	.Lscope10:
 1462 06d4 FF90      	.global	BUFFERunit16TX
 1464 06d8 DF90      	BUFFERunit16TX:
 1466 06dc BF90      	.LM102:
 1467 06de AF90      	.LFBB11:
 1468 06e0 9F90      		push r12
 1469 06e2 8F90      		push r13
 1470 06e4 7F90      		push r14
 1471 06e6 6F90      		push r15
 1472 06e8 5F90      		push r16
 1473 06ea 4F90      		push r17
 1474 06ec 3F90      		push r29
 1475 06ee 2F90      		push r28
 1476 06f0 0895      		in r28,__SP_L__
 1477               		in r29,__SP_H__
 1478               		sbiw r28,8
 1479               		in __tmp_reg__,__SREG__
 1480               		cli
 1481               		out __SP_H__,r29
 1482               		out __SREG__,__tmp_reg__
 1483               		out __SP_L__,r28
 1484               	/* prologue: function */
 1485               	/* frame size = 8 */
 1486               		movw r12,r24
 1488               	.LM103:
 1489               		ldi r24,lo8(10)
 1490               		ldi r25,hi8(10)
 1491               		call Esimpar
 1492 06f2 CF92      		or r24,r25
 1493 06f4 DF92      		brne .L88
 1494 06f6 EF92      		ldi r26,lo8(10)
 1495 06f8 FF92      		mov r14,r26
 1496 06fa 0F93      		mov r15,__zero_reg__
 1497 06fc 1F93      		rjmp .L89
 1498 06fe DF93      	.L88:
 1499 0700 CF93      		ldi r31,lo8(11)
 1500 0702 CDB7      		mov r14,r31
 1501 0704 DEB7      		mov r15,__zero_reg__
 1502 0706 2897      	.L89:
 1504 070a F894      	.LM104:
 1505 070c DEBF      		movw r24,r14
 1506 070e 0FBE      		call declarar
 1507 0710 CDBF      		sts (TXBUFFER)+1,r25
 1508               		sts TXBUFFER,r24
 1510 0712 6C01      	.LM105:
 1511               		movw r16,r28
 1512               		subi r16,lo8(-(1))
 1513 0714 8AE0      		sbci r17,hi8(-(1))
 1514 0716 90E0      		movw r24,r16
 1515 0718 0E94 0000 		ldi r22,lo8(13)
 1516 071c 892B      		ldi r23,hi8(13)
 1517 071e 01F4      		ldi r20,lo8(2)
 1518 0720 AAE0      		ldi r21,hi8(2)
 1519 0722 EA2E      		movw r18,r12
 1520 0724 F12C      		call fillPacketHeader
 1522               	.LM106:
 1523 0728 FBE0      		movw r24,r16
 1524 072a EF2E      		movw r22,r16
 1525 072c F12C      		ldi r20,lo8(8)
 1526               		ldi r21,hi8(8)
 1527               		call BUFFERPacketDataTX
 1529 072e C701      	.LM107:
 1530 0730 0E94 0000 		movw r24,r16
 1531 0734 9093 0000 		movw r22,r12
 1532 0738 8093 0000 		ldi r20,lo8(13)
 1533               		ldi r21,hi8(13)
 1534               		call BUFFERPacketDataTX
 1536 073e 0F5F      	.LM108:
 1537 0740 1F4F      		movw r24,r14
 1538 0742 C801      	/* epilogue start */
 1539 0744 6DE0      		adiw r28,8
 1540 0746 70E0      		in __tmp_reg__,__SREG__
 1541 0748 42E0      		cli
 1542 074a 50E0      		out __SP_H__,r29
 1543 074c 9601      		out __SREG__,__tmp_reg__
 1544 074e 0E94 0000 		out __SP_L__,r28
 1545               		pop r28
 1546               		pop r29
 1547 0752 C801      		pop r17
 1548 0754 B801      		pop r16
 1549 0756 48E0      		pop r15
 1550 0758 50E0      		pop r14
 1551 075a 0E94 0000 		pop r13
 1552               		pop r12
 1553               		ret
 1559               	.Lscope11:
 1562               	.global	BUFFERTraceTX
 1564 076e 0FB6      	BUFFERTraceTX:
 1566 0772 DEBF      	.LM109:
 1567 0774 0FBE      	.LFBB12:
 1568 0776 CDBF      		push r10
 1569 0778 CF91      		push r11
 1570 077a DF91      		push r12
 1571 077c 1F91      		push r13
 1572 077e 0F91      		push r14
 1573 0780 FF90      		push r15
 1574 0782 EF90      		push r16
 1575 0784 DF90      		push r17
 1576 0786 CF90      		push r29
 1577 0788 0895      		push r28
 1578               		in r28,__SP_L__
 1579               		in r29,__SP_H__
 1580               		sbiw r28,8
 1581               		in __tmp_reg__,__SREG__
 1582               		cli
 1583               		out __SP_H__,r29
 1584               		out __SREG__,__tmp_reg__
 1585               		out __SP_L__,r28
 1586               	/* prologue: function */
 1587               	/* frame size = 8 */
 1588               		movw r10,r24
 1590               	.LM110:
 1591               		movw r30,r24
 1592 078a AF92      		ld r24,Z
 1593 078c BF92      		ldd r25,Z+1
 1594 078e CF92      		ldd r26,Z+2
 1595 0790 DF92      		ldd r27,Z+3
 1596 0792 EF92      		adiw r24,5
 1597 0794 FF92      		adc r26,__zero_reg__
 1598 0796 0F93      		adc r27,__zero_reg__
 1599 0798 1F93      		ldi r16,2
 1600 079a DF93      	1:	lsl r24
 1601 079c CF93      		rol r25
 1602 079e CDB7      		rol r26
 1603 07a0 DEB7      		rol r27
 1604 07a2 2897      		dec r16
 1605 07a4 0FB6      		brne 1b
 1606 07a6 F894      		movw r14,r24
 1608 07aa 0FBE      	.LM111:
 1609 07ac CDBF      		call Esimpar
 1610               		or r24,r25
 1611               		breq .L92
 1613               	.LM112:
 1614               		sec
 1615 07b0 FC01      		adc r14,__zero_reg__
 1616 07b2 8081      		adc r15,__zero_reg__
 1618 07b6 A281      	.LM113:
 1619 07b8 B381      		ldi r17,lo8(-9)
 1620 07ba 0596      		mov r12,r17
 1621 07bc A11D      		ldi r17,hi8(-9)
 1622 07be B11D      		mov r13,r17
 1623 07c0 02E0      		rjmp .L95
 1624 07c2 880F      	.L92:
 1626 07c6 AA1F      	.LM114:
 1627 07c8 BB1F      		ldi r27,lo8(-8)
 1628 07ca 0A95      		mov r12,r27
 1629 07cc 01F4      		ldi r27,hi8(-8)
 1630 07ce 7C01      		mov r13,r27
 1631               	.L95:
 1632               		add r12,r14
 1633 07d0 0E94 0000 		adc r13,r15
 1635 07d6 01F0      	.LM115:
 1636               		movw r24,r14
 1637               		call declarar
 1638 07d8 0894      		sts (TXBUFFER)+1,r25
 1639 07da E11C      		sts TXBUFFER,r24
 1641               	.LM116:
 1642               		movw r16,r28
 1643 07de 17EF      		subi r16,lo8(-(1))
 1644 07e0 C12E      		sbci r17,hi8(-(1))
 1645 07e2 1FEF      		movw r24,r16
 1646 07e4 D12E      		ldi r22,lo8(12)
 1647 07e6 00C0      		ldi r23,hi8(12)
 1648               		movw r20,r12
 1649               		movw r18,r10
 1650               		call fillPacketHeader
 1652 07ea CB2E      	.LM117:
 1653 07ec BFEF      		movw r24,r16
 1654 07ee DB2E      		movw r22,r16
 1655               		ldi r20,lo8(8)
 1656 07f0 CE0C      		ldi r21,hi8(8)
 1657 07f2 DF1C      		call BUFFERPacketDataTX
 1659               	.LM118:
 1660 07f4 C701      		movw r24,r16
 1661 07f6 0E94 0000 		movw r22,r10
 1662 07fa 9093 0000 		ldi r20,lo8(12)
 1663 07fe 8093 0000 		ldi r21,hi8(12)
 1664               		call BUFFERPacketDataTX
 1666 0802 8E01      	.LM119:
 1667 0804 0F5F      		movw r24,r14
 1668 0806 1F4F      	/* epilogue start */
 1669 0808 C801      		adiw r28,8
 1670 080a 6CE0      		in __tmp_reg__,__SREG__
 1671 080c 70E0      		cli
 1672 080e A601      		out __SP_H__,r29
 1673 0810 9501      		out __SREG__,__tmp_reg__
 1674 0812 0E94 0000 		out __SP_L__,r28
 1675               		pop r28
 1676               		pop r29
 1677 0816 C801      		pop r17
 1678 0818 B801      		pop r16
 1679 081a 48E0      		pop r15
 1680 081c 50E0      		pop r14
 1681 081e 0E94 0000 		pop r13
 1682               		pop r12
 1683               		pop r11
 1684 0822 C801      		pop r10
 1685 0824 B501      		ret
 1692               	.Lscope12:
 1695 0834 F894      	.global	BUFFERAlarmaTX
 1697 0838 0FBE      	BUFFERAlarmaTX:
 1699 083c CF91      	.LM120:
 1700 083e DF91      	.LFBB13:
 1701 0840 1F91      		push r12
 1702 0842 0F91      		push r13
 1703 0844 FF90      		push r14
 1704 0846 EF90      		push r15
 1705 0848 DF90      		push r16
 1706 084a CF90      		push r17
 1707 084c BF90      		push r29
 1708 084e AF90      		push r28
 1709 0850 0895      		in r28,__SP_L__
 1710               		in r29,__SP_H__
 1711               		sbiw r28,8
 1712               		in __tmp_reg__,__SREG__
 1713               		cli
 1714               		out __SP_H__,r29
 1715               		out __SREG__,__tmp_reg__
 1716               		out __SP_L__,r28
 1717               	/* prologue: function */
 1718               	/* frame size = 8 */
 1719               		movw r12,r24
 1721               	.LM121:
 1722               		ldi r24,lo8(15)
 1723               		ldi r25,hi8(15)
 1724               		call Esimpar
 1725 0852 CF92      		or r24,r25
 1726 0854 DF92      		brne .L97
 1727 0856 EF92      		ldi r25,lo8(15)
 1728 0858 FF92      		mov r14,r25
 1729 085a 0F93      		mov r15,__zero_reg__
 1730 085c 1F93      		rjmp .L98
 1731 085e DF93      	.L97:
 1732 0860 CF93      		ldi r24,lo8(16)
 1733 0862 CDB7      		mov r14,r24
 1734 0864 DEB7      		mov r15,__zero_reg__
 1735 0866 2897      	.L98:
 1737 086a F894      	.LM122:
 1738 086c DEBF      		movw r24,r14
 1739 086e 0FBE      		call declarar
 1740 0870 CDBF      		sts (TXBUFFER)+1,r25
 1741               		sts TXBUFFER,r24
 1743 0872 6C01      	.LM123:
 1744               		movw r16,r28
 1745               		subi r16,lo8(-(1))
 1746 0874 8FE0      		sbci r17,hi8(-(1))
 1747 0876 90E0      		movw r24,r16
 1748 0878 0E94 0000 		ldi r22,lo8(11)
 1749 087c 892B      		ldi r23,hi8(11)
 1750 087e 01F4      		ldi r20,lo8(7)
 1751 0880 9FE0      		ldi r21,hi8(7)
 1752 0882 E92E      		movw r18,r12
 1753 0884 F12C      		call fillPacketHeader
 1755               	.LM124:
 1756 0888 80E1      		movw r24,r16
 1757 088a E82E      		movw r22,r16
 1758 088c F12C      		ldi r20,lo8(8)
 1759               		ldi r21,hi8(8)
 1760               		call BUFFERPacketDataTX
 1762 088e C701      	.LM125:
 1763 0890 0E94 0000 		movw r24,r16
 1764 0894 9093 0000 		movw r22,r12
 1765 0898 8093 0000 		ldi r20,lo8(11)
 1766               		ldi r21,hi8(11)
 1767               		call BUFFERPacketDataTX
 1769 089e 0F5F      	.LM126:
 1770 08a0 1F4F      		movw r24,r14
 1771 08a2 C801      	/* epilogue start */
 1772 08a4 6BE0      		adiw r28,8
 1773 08a6 70E0      		in __tmp_reg__,__SREG__
 1774 08a8 47E0      		cli
 1775 08aa 50E0      		out __SP_H__,r29
 1776 08ac 9601      		out __SREG__,__tmp_reg__
 1777 08ae 0E94 0000 		out __SP_L__,r28
 1778               		pop r28
 1779               		pop r29
 1780 08b2 C801      		pop r17
 1781 08b4 B801      		pop r16
 1782 08b6 48E0      		pop r15
 1783 08b8 50E0      		pop r14
 1784 08ba 0E94 0000 		pop r13
 1785               		pop r12
 1786               		ret
 1792               	.Lscope13:
 1795               	.global	BUFFERFechaTX
 1797 08ce 0FB6      	BUFFERFechaTX:
 1799 08d2 DEBF      	.LM127:
 1800 08d4 0FBE      	.LFBB14:
 1801 08d6 CDBF      		push r12
 1802 08d8 CF91      		push r13
 1803 08da DF91      		push r14
 1804 08dc 1F91      		push r15
 1805 08de 0F91      		push r16
 1806 08e0 FF90      		push r17
 1807 08e2 EF90      		push r29
 1808 08e4 DF90      		push r28
 1809 08e6 CF90      		in r28,__SP_L__
 1810 08e8 0895      		in r29,__SP_H__
 1811               		sbiw r28,8
 1812               		in __tmp_reg__,__SREG__
 1813               		cli
 1814               		out __SP_H__,r29
 1815               		out __SREG__,__tmp_reg__
 1816               		out __SP_L__,r28
 1817               	/* prologue: function */
 1818               	/* frame size = 8 */
 1819               		movw r12,r24
 1821               	.LM128:
 1822               		ldi r24,lo8(16)
 1823               		ldi r25,hi8(16)
 1824               		call Esimpar
 1825 08ea CF92      		or r24,r25
 1826 08ec DF92      		brne .L101
 1827 08ee EF92      		ldi r19,lo8(16)
 1828 08f0 FF92      		mov r14,r19
 1829 08f2 0F93      		mov r15,__zero_reg__
 1830 08f4 1F93      		rjmp .L102
 1831 08f6 DF93      	.L101:
 1832 08f8 CF93      		ldi r18,lo8(17)
 1833 08fa CDB7      		mov r14,r18
 1834 08fc DEB7      		mov r15,__zero_reg__
 1835 08fe 2897      	.L102:
 1837 0902 F894      	.LM129:
 1838 0904 DEBF      		movw r24,r14
 1839 0906 0FBE      		call declarar
 1840 0908 CDBF      		sts (TXBUFFER)+1,r25
 1841               		sts TXBUFFER,r24
 1843 090a 6C01      	.LM130:
 1844               		movw r16,r28
 1845               		subi r16,lo8(-(1))
 1846 090c 80E1      		sbci r17,hi8(-(1))
 1847 090e 90E0      		movw r24,r16
 1848 0910 0E94 0000 		ldi r22,lo8(10)
 1849 0914 892B      		ldi r23,hi8(10)
 1850 0916 01F4      		ldi r20,lo8(8)
 1851 0918 30E1      		ldi r21,hi8(8)
 1852 091a E32E      		movw r18,r12
 1853 091c F12C      		call fillPacketHeader
 1855               	.LM131:
 1856 0920 21E1      		movw r24,r16
 1857 0922 E22E      		movw r22,r16
 1858 0924 F12C      		ldi r20,lo8(8)
 1859               		ldi r21,hi8(8)
 1860               		call BUFFERPacketDataTX
 1862 0926 C701      	.LM132:
 1863 0928 0E94 0000 		movw r24,r16
 1864 092c 9093 0000 		movw r22,r12
 1865 0930 8093 0000 		ldi r20,lo8(10)
 1866               		ldi r21,hi8(10)
 1867               		call BUFFERPacketDataTX
 1869 0936 0F5F      	.LM133:
 1870 0938 1F4F      		movw r24,r14
 1871 093a C801      	/* epilogue start */
 1872 093c 6AE0      		adiw r28,8
 1873 093e 70E0      		in __tmp_reg__,__SREG__
 1874 0940 48E0      		cli
 1875 0942 50E0      		out __SP_H__,r29
 1876 0944 9601      		out __SREG__,__tmp_reg__
 1877 0946 0E94 0000 		out __SP_L__,r28
 1878               		pop r28
 1879               		pop r29
 1880 094a C801      		pop r17
 1881 094c B801      		pop r16
 1882 094e 48E0      		pop r15
 1883 0950 50E0      		pop r14
 1884 0952 0E94 0000 		pop r13
 1885               		pop r12
 1886               		ret
 1892               	.Lscope14:
 1895               	.global	BUFFERVectorPoseTX
 1897 0966 0FB6      	BUFFERVectorPoseTX:
 1899 096a DEBF      	.LM134:
 1900 096c 0FBE      	.LFBB15:
 1901 096e CDBF      		push r10
 1902 0970 CF91      		push r11
 1903 0972 DF91      		push r12
 1904 0974 1F91      		push r13
 1905 0976 0F91      		push r14
 1906 0978 FF90      		push r15
 1907 097a EF90      		push r16
 1908 097c DF90      		push r17
 1909 097e CF90      		push r29
 1910 0980 0895      		push r28
 1911               		in r28,__SP_L__
 1912               		in r29,__SP_H__
 1913               		sbiw r28,8
 1914               		in __tmp_reg__,__SREG__
 1915               		cli
 1916               		out __SP_H__,r29
 1917               		out __SREG__,__tmp_reg__
 1918               		out __SP_L__,r28
 1919               	/* prologue: function */
 1920               	/* frame size = 8 */
 1921               		movw r10,r24
 1923               	.LM135:
 1924               		movw r30,r24
 1925 0982 AF92      		ld r14,Z
 1926 0984 BF92      		ldd r15,Z+1
 1927 0986 CF92      		ldi r24,lo8(4)
 1928 0988 DF92      		ldi r25,hi8(4)
 1929 098a EF92      		add r14,r24
 1930 098c FF92      		adc r15,r25
 1931 098e 0F93      		lsl r14
 1932 0990 1F93      		rol r15
 1934 0994 CF93      	.LM136:
 1935 0996 CDB7      		movw r24,r14
 1936 0998 DEB7      		call Esimpar
 1937 099a 2897      		or r24,r25
 1938 099c 0FB6      		breq .L105
 1940 09a0 DEBF      	.LM137:
 1941 09a2 0FBE      		sec
 1942 09a4 CDBF      		adc r14,__zero_reg__
 1943               		adc r15,__zero_reg__
 1945 09a6 5C01      	.LM138:
 1946               		ldi r21,lo8(-9)
 1947               		mov r12,r21
 1948 09a8 FC01      		ldi r21,hi8(-9)
 1949 09aa E080      		mov r13,r21
 1950 09ac F180      		rjmp .L108
 1951 09ae 84E0      	.L105:
 1953 09b2 E80E      	.LM139:
 1954 09b4 F91E      		ldi r20,lo8(-8)
 1955 09b6 EE0C      		mov r12,r20
 1956 09b8 FF1C      		ldi r20,hi8(-8)
 1957               		mov r13,r20
 1958               	.L108:
 1959 09ba C701      		add r12,r14
 1960 09bc 0E94 0000 		adc r13,r15
 1962 09c2 01F0      	.LM140:
 1963               		movw r24,r14
 1964               		call declarar
 1965 09c4 0894      		sts (TXBUFFER)+1,r25
 1966 09c6 E11C      		sts TXBUFFER,r24
 1968               	.LM141:
 1969               		movw r16,r28
 1970 09ca 57EF      		subi r16,lo8(-(1))
 1971 09cc C52E      		sbci r17,hi8(-(1))
 1972 09ce 5FEF      		movw r24,r16
 1973 09d0 D52E      		ldi r22,lo8(9)
 1974 09d2 00C0      		ldi r23,hi8(9)
 1975               		movw r20,r12
 1976               		movw r18,r10
 1977               		call fillPacketHeader
 1979 09d6 C42E      	.LM142:
 1980 09d8 4FEF      		movw r24,r16
 1981 09da D42E      		movw r22,r16
 1982               		ldi r20,lo8(8)
 1983 09dc CE0C      		ldi r21,hi8(8)
 1984 09de DF1C      		call BUFFERPacketDataTX
 1986               	.LM143:
 1987 09e0 C701      		movw r24,r16
 1988 09e2 0E94 0000 		movw r22,r10
 1989 09e6 9093 0000 		ldi r20,lo8(9)
 1990 09ea 8093 0000 		ldi r21,hi8(9)
 1991               		call BUFFERPacketDataTX
 1993 09ee 8E01      	.LM144:
 1994 09f0 0F5F      		movw r24,r14
 1995 09f2 1F4F      	/* epilogue start */
 1996 09f4 C801      		adiw r28,8
 1997 09f6 69E0      		in __tmp_reg__,__SREG__
 1998 09f8 70E0      		cli
 1999 09fa A601      		out __SP_H__,r29
 2000 09fc 9501      		out __SREG__,__tmp_reg__
 2001 09fe 0E94 0000 		out __SP_L__,r28
 2002               		pop r28
 2003               		pop r29
 2004 0a02 C801      		pop r17
 2005 0a04 B801      		pop r16
 2006 0a06 48E0      		pop r15
 2007 0a08 50E0      		pop r14
 2008 0a0a 0E94 0000 		pop r13
 2009               		pop r12
 2010               		pop r11
 2011 0a0e C801      		pop r10
 2012 0a10 B501      		ret
 2019               	.Lscope15:
 2021 0a1e 0FB6      	.global	BUFFERAxisLimitsTX
 2023 0a22 DEBF      	BUFFERAxisLimitsTX:
 2025 0a26 CDBF      	.LM145:
 2026 0a28 CF91      	.LFBB16:
 2027 0a2a DF91      		push r12
 2028 0a2c 1F91      		push r13
 2029 0a2e 0F91      		push r14
 2030 0a30 FF90      		push r15
 2031 0a32 EF90      		push r16
 2032 0a34 DF90      		push r17
 2033 0a36 CF90      		push r29
 2034 0a38 BF90      		push r28
 2035 0a3a AF90      		in r28,__SP_L__
 2036 0a3c 0895      		in r29,__SP_H__
 2037               		sbiw r28,8
 2038               		in __tmp_reg__,__SREG__
 2039               		cli
 2040               		out __SP_H__,r29
 2041               		out __SREG__,__tmp_reg__
 2042               		out __SP_L__,r28
 2043               	/* prologue: function */
 2044               	/* frame size = 8 */
 2045               		mov r13,r24
 2046               		mov r12,r25
 2048               	.LM146:
 2049               		ldi r24,lo8(16)
 2050               		ldi r25,hi8(16)
 2051 0a3e CF92      		call Esimpar
 2052 0a40 DF92      		or r24,r25
 2053 0a42 EF92      		brne .L110
 2054 0a44 FF92      		ldi r30,lo8(16)
 2055 0a46 0F93      		mov r14,r30
 2056 0a48 1F93      		mov r15,__zero_reg__
 2057 0a4a DF93      		rjmp .L111
 2058 0a4c CF93      	.L110:
 2059 0a4e CDB7      		ldi r23,lo8(17)
 2060 0a50 DEB7      		mov r14,r23
 2061 0a52 2897      		mov r15,__zero_reg__
 2062 0a54 0FB6      	.L111:
 2064 0a58 DEBF      	.LM147:
 2065 0a5a 0FBE      		movw r24,r14
 2066 0a5c CDBF      		call declarar
 2067               		sts (TXBUFFER)+1,r25
 2068               		sts TXBUFFER,r24
 2070 0a60 C92E      	.LM148:
 2071               		movw r16,r28
 2072               		subi r16,lo8(-(1))
 2073 0a62 80E1      		sbci r17,hi8(-(1))
 2074 0a64 90E0      		movw r24,r16
 2075 0a66 0E94 0000 		ldi r22,lo8(7)
 2076 0a6a 892B      		ldi r23,hi8(7)
 2077 0a6c 01F4      		ldi r20,lo8(8)
 2078 0a6e E0E1      		ldi r21,hi8(8)
 2079 0a70 EE2E      		mov r18,r13
 2080 0a72 F12C      		mov r19,r12
 2081 0a74 00C0      		call fillPacketHeader
 2083 0a76 71E1      	.LM149:
 2084 0a78 E72E      		movw r24,r16
 2085 0a7a F12C      		movw r22,r16
 2086               		ldi r20,lo8(8)
 2087               		ldi r21,hi8(8)
 2088               		call BUFFERPacketDataTX
 2090 0a7e 0E94 0000 	.LM150:
 2091 0a82 9093 0000 		movw r24,r16
 2092 0a86 8093 0000 		mov r22,r13
 2093               		mov r23,r12
 2094               		ldi r20,lo8(7)
 2095 0a8a 8E01      		ldi r21,hi8(7)
 2096 0a8c 0F5F      		call BUFFERPacketDataTX
 2098 0a90 C801      	.LM151:
 2099 0a92 67E0      		movw r24,r14
 2100 0a94 70E0      	/* epilogue start */
 2101 0a96 48E0      		adiw r28,8
 2102 0a98 50E0      		in __tmp_reg__,__SREG__
 2103 0a9a 2D2D      		cli
 2104 0a9c 3C2D      		out __SP_H__,r29
 2105 0a9e 0E94 0000 		out __SREG__,__tmp_reg__
 2106               		out __SP_L__,r28
 2107               		pop r28
 2108 0aa2 C801      		pop r29
 2109 0aa4 B801      		pop r17
 2110 0aa6 48E0      		pop r16
 2111 0aa8 50E0      		pop r15
 2112 0aaa 0E94 0000 		pop r14
 2113               		pop r13
 2114               		pop r12
 2115 0aae C801      		ret
 2121               	.Lscope16:
 2123 0abc C701      	.global	BUFFERAxisSettingsTX
 2125 0abe 2896      	BUFFERAxisSettingsTX:
 2127 0ac2 F894      	.LM152:
 2128 0ac4 DEBF      	.LFBB17:
 2129 0ac6 0FBE      		push r12
 2130 0ac8 CDBF      		push r13
 2131 0aca CF91      		push r14
 2132 0acc DF91      		push r15
 2133 0ace 1F91      		push r16
 2134 0ad0 0F91      		push r17
 2135 0ad2 FF90      		push r29
 2136 0ad4 EF90      		push r28
 2137 0ad6 DF90      		in r28,__SP_L__
 2138 0ad8 CF90      		in r29,__SP_H__
 2139 0ada 0895      		sbiw r28,8
 2140               		in __tmp_reg__,__SREG__
 2141               		cli
 2142               		out __SP_H__,r29
 2143               		out __SREG__,__tmp_reg__
 2144               		out __SP_L__,r28
 2145               	/* prologue: function */
 2146               	/* frame size = 8 */
 2147               		mov r13,r24
 2148               		mov r12,r25
 2150               	.LM153:
 2151               		ldi r24,lo8(348)
 2152               		ldi r25,hi8(348)
 2153 0adc CF92      		call Esimpar
 2154 0ade DF92      		or r24,r25
 2155 0ae0 EF92      		brne .L114
 2156 0ae2 FF92      		ldi r26,lo8(348)
 2157 0ae4 0F93      		mov r14,r26
 2158 0ae6 1F93      		ldi r26,hi8(348)
 2159 0ae8 DF93      		mov r15,r26
 2160 0aea CF93      		rjmp .L115
 2161 0aec CDB7      	.L114:
 2162 0aee DEB7      		ldi r31,lo8(349)
 2163 0af0 2897      		mov r14,r31
 2164 0af2 0FB6      		ldi r31,hi8(349)
 2165 0af4 F894      		mov r15,r31
 2166 0af6 DEBF      	.L115:
 2168 0afa CDBF      	.LM154:
 2169               		movw r24,r14
 2170               		call declarar
 2171 0afc D82E      		sts (TXBUFFER)+1,r25
 2172 0afe C92E      		sts TXBUFFER,r24
 2174               	.LM155:
 2175 0b00 8CE5      		movw r16,r28
 2176 0b02 91E0      		subi r16,lo8(-(1))
 2177 0b04 0E94 0000 		sbci r17,hi8(-(1))
 2178 0b08 892B      		movw r24,r16
 2179 0b0a 01F4      		ldi r22,lo8(6)
 2180 0b0c ACE5      		ldi r23,hi8(6)
 2181 0b0e EA2E      		ldi r20,lo8(340)
 2182 0b10 A1E0      		ldi r21,hi8(340)
 2183 0b12 FA2E      		mov r18,r13
 2184 0b14 00C0      		mov r19,r12
 2185               		call fillPacketHeader
 2187 0b18 EF2E      	.LM156:
 2188 0b1a F1E0      		movw r24,r16
 2189 0b1c FF2E      		movw r22,r16
 2190               		ldi r20,lo8(8)
 2191               		ldi r21,hi8(8)
 2192               		call BUFFERPacketDataTX
 2194 0b20 0E94 0000 	.LM157:
 2195 0b24 9093 0000 		movw r24,r16
 2196 0b28 8093 0000 		mov r22,r13
 2197               		mov r23,r12
 2198               		ldi r20,lo8(6)
 2199 0b2c 8E01      		ldi r21,hi8(6)
 2200 0b2e 0F5F      		call BUFFERPacketDataTX
 2202 0b32 C801      	.LM158:
 2203 0b34 66E0      		movw r24,r14
 2204 0b36 70E0      	/* epilogue start */
 2205 0b38 44E5      		adiw r28,8
 2206 0b3a 51E0      		in __tmp_reg__,__SREG__
 2207 0b3c 2D2D      		cli
 2208 0b3e 3C2D      		out __SP_H__,r29
 2209 0b40 0E94 0000 		out __SREG__,__tmp_reg__
 2210               		out __SP_L__,r28
 2211               		pop r28
 2212 0b44 C801      		pop r29
 2213 0b46 B801      		pop r17
 2214 0b48 48E0      		pop r16
 2215 0b4a 50E0      		pop r15
 2216 0b4c 0E94 0000 		pop r14
 2217               		pop r13
 2218               		pop r12
 2219 0b50 C801      		ret
 2225               	.Lscope17:
 2229 0b60 2896      	.global	BUFFERTrajectoryTX
 2231 0b64 F894      	BUFFERTrajectoryTX:
 2233 0b68 0FBE      	.LM159:
 2234 0b6a CDBF      	.LFBB18:
 2235 0b6c CF91      		push r8
 2236 0b6e DF91      		push r9
 2237 0b70 1F91      		push r10
 2238 0b72 0F91      		push r11
 2239 0b74 FF90      		push r12
 2240 0b76 EF90      		push r13
 2241 0b78 DF90      		push r14
 2242 0b7a CF90      		push r15
 2243 0b7c 0895      		push r16
 2244               		push r17
 2245               		push r29
 2246               		push r28
 2247               		in r28,__SP_L__
 2248               		in r29,__SP_H__
 2249               		sbiw r28,8
 2250               		in __tmp_reg__,__SREG__
 2251               		cli
 2252               		out __SP_H__,r29
 2253               		out __SREG__,__tmp_reg__
 2254               		out __SP_L__,r28
 2255               	/* prologue: function */
 2256               	/* frame size = 8 */
 2257               		mov r9,r24
 2258               		mov r8,r25
 2259 0b7e 8F92      		movw r10,r20
 2261 0b82 AF92      	.LM160:
 2262 0b84 BF92      		ldi r24,lo8(61)
 2263 0b86 CF92      		ldi r25,hi8(61)
 2264 0b88 DF92      		mul r22,r24
 2265 0b8a EF92      		movw r16,r0
 2266 0b8c FF92      		mul r22,r25
 2267 0b8e 0F93      		add r17,r0
 2268 0b90 1F93      		mul r23,r24
 2269 0b92 DF93      		add r17,r0
 2270 0b94 CF93      		clr r1
 2271 0b96 CDB7      		ldi r24,lo8(12)
 2272 0b98 DEB7      		mov r14,r24
 2273 0b9a 2897      		mov r15,__zero_reg__
 2274 0b9c 0FB6      		add r14,r16
 2275 0b9e F894      		adc r15,r17
 2277 0ba2 0FBE      	.LM161:
 2278 0ba4 CDBF      		movw r24,r14
 2279               		call Esimpar
 2280               		ldi r27,lo8(4)
 2281 0ba6 982E      		mov r12,r27
 2282 0ba8 892E      		mov r13,__zero_reg__
 2283 0baa 5A01      		add r12,r16
 2284               		adc r13,r17
 2285               		or r24,r25
 2286 0bac 8DE3      		breq .L119
 2288 0bb0 689F      	.LM162:
 2289 0bb2 8001      		movw r14,r16
 2290 0bb4 699F      		ldi r24,lo8(13)
 2291 0bb6 100D      		ldi r25,hi8(13)
 2292 0bb8 789F      		add r14,r24
 2293 0bba 100D      		adc r15,r25
 2294 0bbc 1124      	.L119:
 2296 0bc0 E82E      	.LM163:
 2297 0bc2 F12C      		movw r24,r14
 2298 0bc4 E00E      		call declarar
 2299 0bc6 F11E      		sts (TXBUFFER)+1,r25
 2300               		sts TXBUFFER,r24
 2302 0bc8 C701      	.LM164:
 2303 0bca 0E94 0000 		movw r16,r28
 2304 0bce B4E0      		subi r16,lo8(-(1))
 2305 0bd0 CB2E      		sbci r17,hi8(-(1))
 2306 0bd2 D12C      		movw r24,r16
 2307 0bd4 C00E      		movw r22,r10
 2308 0bd6 D11E      		movw r20,r12
 2309 0bd8 892B      		mov r18,r9
 2310 0bda 01F0      		mov r19,r8
 2311               		call fillPacketHeader
 2313 0bdc 7801      	.LM165:
 2314 0bde 8DE0      		movw r24,r16
 2315 0be0 90E0      		movw r22,r16
 2316 0be2 E80E      		ldi r20,lo8(8)
 2317 0be4 F91E      		ldi r21,hi8(8)
 2318               		call BUFFERPacketDataTX
 2320               	.LM166:
 2321 0be6 C701      		movw r24,r16
 2322 0be8 0E94 0000 		mov r22,r9
 2323 0bec 9093 0000 		mov r23,r8
 2324 0bf0 8093 0000 		ldi r20,lo8(3)
 2325               		ldi r21,hi8(3)
 2326               		call BUFFERPacketDataTX
 2328 0bf6 0F5F      	.LM167:
 2329 0bf8 1F4F      		movw r24,r14
 2330 0bfa C801      	/* epilogue start */
 2331 0bfc B501      		adiw r28,8
 2332 0bfe A601      		in __tmp_reg__,__SREG__
 2333 0c00 292D      		cli
 2334 0c02 382D      		out __SP_H__,r29
 2335 0c04 0E94 0000 		out __SREG__,__tmp_reg__
 2336               		out __SP_L__,r28
 2337               		pop r28
 2338 0c08 C801      		pop r29
 2339 0c0a B801      		pop r17
 2340 0c0c 48E0      		pop r16
 2341 0c0e 50E0      		pop r15
 2342 0c10 0E94 0000 		pop r14
 2343               		pop r13
 2344               		pop r12
 2345 0c14 C801      		pop r11
 2346 0c16 692D      		pop r10
 2347 0c18 782D      		pop r9
 2348 0c1a 43E0      		pop r8
 2349 0c1c 50E0      		ret
 2355 0c24 2896      	.Lscope18:
 2357 0c28 F894      	.global	BUFFERCommandTX
 2359 0c2c 0FBE      	BUFFERCommandTX:
 2361 0c30 CF91      	.LM168:
 2362 0c32 DF91      	.LFBB19:
 2363 0c34 1F91      		push r12
 2364 0c36 0F91      		push r13
 2365 0c38 FF90      		push r14
 2366 0c3a EF90      		push r15
 2367 0c3c DF90      		push r16
 2368 0c3e CF90      		push r17
 2369 0c40 BF90      		push r29
 2370 0c42 AF90      		push r28
 2371 0c44 9F90      		in r28,__SP_L__
 2372 0c46 8F90      		in r29,__SP_H__
 2373 0c48 0895      		sbiw r28,8
 2374               		in __tmp_reg__,__SREG__
 2375               		cli
 2376               		out __SP_H__,r29
 2377               		out __SREG__,__tmp_reg__
 2378               		out __SP_L__,r28
 2379               	/* prologue: function */
 2380               	/* frame size = 8 */
 2381               		mov r13,r24
 2382               		mov r12,r25
 2384               	.LM169:
 2385               		ldi r24,lo8(35)
 2386               		ldi r25,hi8(35)
 2387 0c4a CF92      		call Esimpar
 2388 0c4c DF92      		or r24,r25
 2389 0c4e EF92      		breq .L122
 2390 0c50 FF92      		ldi r18,lo8(36)
 2391 0c52 0F93      		mov r14,r18
 2392 0c54 1F93      		mov r15,__zero_reg__
 2393 0c56 DF93      		rjmp .L123
 2394 0c58 CF93      	.L122:
 2395 0c5a CDB7      		ldi r25,lo8(35)
 2396 0c5c DEB7      		mov r14,r25
 2397 0c5e 2897      		mov r15,__zero_reg__
 2398 0c60 0FB6      	.L123:
 2400 0c64 DEBF      	.LM170:
 2401 0c66 0FBE      		movw r24,r14
 2402 0c68 CDBF      		call declarar
 2403               		sts (TXBUFFER)+1,r25
 2404               		sts TXBUFFER,r24
 2406 0c6c C92E      	.LM171:
 2407               		movw r16,r28
 2408               		subi r16,lo8(-(1))
 2409 0c6e 83E2      		sbci r17,hi8(-(1))
 2410 0c70 90E0      		movw r24,r16
 2411 0c72 0E94 0000 		ldi r22,lo8(1)
 2412 0c76 892B      		ldi r23,hi8(1)
 2413 0c78 01F0      		ldi r20,lo8(27)
 2414 0c7a 24E2      		ldi r21,hi8(27)
 2415 0c7c E22E      		mov r18,r13
 2416 0c7e F12C      		mov r19,r12
 2417 0c80 00C0      		call fillPacketHeader
 2419 0c82 93E2      	.LM172:
 2420 0c84 E92E      		movw r24,r16
 2421 0c86 F12C      		movw r22,r16
 2422               		ldi r20,lo8(8)
 2423               		ldi r21,hi8(8)
 2424               		call BUFFERPacketDataTX
 2426 0c8a 0E94 0000 	.LM173:
 2427 0c8e 9093 0000 		movw r24,r16
 2428 0c92 8093 0000 		mov r22,r13
 2429               		mov r23,r12
 2430               		ldi r20,lo8(1)
 2431 0c96 8E01      		ldi r21,hi8(1)
 2432 0c98 0F5F      		call BUFFERPacketDataTX
 2434 0c9c C801      	.LM174:
 2435 0c9e 61E0      		movw r24,r14
 2436 0ca0 70E0      	/* epilogue start */
 2437 0ca2 4BE1      		adiw r28,8
 2438 0ca4 50E0      		in __tmp_reg__,__SREG__
 2439 0ca6 2D2D      		cli
 2440 0ca8 3C2D      		out __SP_H__,r29
 2441 0caa 0E94 0000 		out __SREG__,__tmp_reg__
 2442               		out __SP_L__,r28
 2443               		pop r28
 2444 0cae C801      		pop r29
 2445 0cb0 B801      		pop r17
 2446 0cb2 48E0      		pop r16
 2447 0cb4 50E0      		pop r15
 2448 0cb6 0E94 0000 		pop r14
 2449               		pop r13
 2450               		pop r12
 2451 0cba C801      		ret
 2457               	.Lscope19:
 2461 0cca 2896      	.global	readTrajectoryRX
 2463 0cce F894      	readTrajectoryRX:
 2465 0cd2 0FBE      	.LM175:
 2466 0cd4 CDBF      	.LFBB20:
 2467 0cd6 CF91      		push r12
 2468 0cd8 DF91      		push r13
 2469 0cda 1F91      		push r14
 2470 0cdc 0F91      		push r15
 2471 0cde FF90      		push r16
 2472 0ce0 EF90      		push r17
 2473 0ce2 DF90      		push r29
 2474 0ce4 CF90      		push r28
 2475 0ce6 0895      		in r28,__SP_L__
 2476               		in r29,__SP_H__
 2477               		sbiw r28,8
 2478               		in __tmp_reg__,__SREG__
 2479               		cli
 2480               		out __SP_H__,r29
 2481               		out __SREG__,__tmp_reg__
 2482               		out __SP_L__,r28
 2483               	/* prologue: function */
 2484               	/* frame size = 8 */
 2485               		movw r14,r24
 2486               		std Y+1,r16
 2487               		std Y+2,r17
 2488               		std Y+3,r18
 2489               		std Y+4,r19
 2490               		std Y+5,r20
 2491 0ce8 CF92      		std Y+6,r21
 2492 0cea DF92      		std Y+7,r22
 2493 0cec EF92      		std Y+8,r23
 2495 0cf0 0F93      	.LM176:
 2496 0cf2 1F93      		ldd r16,Y+3
 2497 0cf4 DF93      		ldd r17,Y+4
 2498 0cf6 CF93      		ldd r12,Y+5
 2499 0cf8 CDB7      		ldd r13,Y+6
 2501 0cfc 2897      	.LM177:
 2502 0cfe 0FB6      		lds r30,RXBUFFER
 2503 0d00 F894      		lds r31,(RXBUFFER)+1
 2504 0d02 DEBF      		ld r24,Z
 2505 0d04 0FBE      		movw r30,r14
 2506 0d06 CDBF      		st Z,r24
 2507               		lds r30,RXBUFFER
 2508               		lds r31,(RXBUFFER)+1
 2509 0d08 7C01      		ldd r24,Z+1
 2510 0d0a 0983      		movw r30,r14
 2511 0d0c 1A83      		std Z+1,r24
 2512 0d0e 2B83      		lds r30,RXBUFFER
 2513 0d10 3C83      		lds r31,(RXBUFFER)+1
 2514 0d12 4D83      		ldd r24,Z+2
 2515 0d14 5E83      		movw r30,r14
 2516 0d16 6F83      		std Z+2,r24
 2517 0d18 7887      		lds r30,RXBUFFER
 2518               		lds r31,(RXBUFFER)+1
 2519               		ldd r24,Z+3
 2520 0d1a 0B81      		movw r30,r14
 2521 0d1c 1C81      		std Z+3,r24
 2523 0d20 DE80      	.LM178:
 2524               		ld r18,Z
 2525               		ldd r19,Z+1
 2526 0d22 E091 0000 		ldi r24,lo8(61)
 2527 0d26 F091 0000 		ldi r25,hi8(61)
 2528 0d2a 8081      		movw r20,r24
 2529 0d2c F701      		mul r18,r20
 2530 0d2e 8083      		movw r24,r0
 2531 0d30 E091 0000 		mul r18,r21
 2532 0d34 F091 0000 		add r25,r0
 2533 0d38 8181      		mul r19,r20
 2534 0d3a F701      		add r25,r0
 2535 0d3c 8183      		clr r1
 2536 0d3e E091 0000 		call declarar
 2537 0d42 F091 0000 		movw r30,r14
 2538 0d46 8281      		std Z+4,r24
 2539 0d48 F701      		std Z+5,r25
 2540 0d4a 8283      		movw r26,r24
 2541 0d4c E091 0000 		ldi r18,lo8(4)
 2542 0d50 F091 0000 		ldi r19,hi8(4)
 2543 0d54 8381      		rjmp .L126
 2544 0d56 F701      	.L127:
 2546               	.LM179:
 2547               		lds r30,RXBUFFER
 2548 0d5a 2081      		lds r31,(RXBUFFER)+1
 2549 0d5c 3181      		add r30,r18
 2550 0d5e 8DE3      		adc r31,r19
 2551 0d60 90E0      		ld r24,Z
 2552 0d62 AC01      		st X+,r24
 2554 0d66 C001      	.LM180:
 2555 0d68 259F      		subi r18,lo8(-(1))
 2556 0d6a 900D      		sbci r19,hi8(-(1))
 2557 0d6c 349F      	.L126:
 2558 0d6e 900D      		cp r18,r16
 2559 0d70 1124      		cpc r19,r17
 2560 0d72 0E94 0000 		brlt .L127
 2562 0d78 8483      	.LM181:
 2563 0d7a 9583      		movw r24,r16
 2564 0d7c DC01      		movw r22,r14
 2565 0d7e 24E0      		movw r20,r12
 2566 0d80 30E0      		ldi r18,lo8(3)
 2567 0d82 00C0      		ldi r19,hi8(3)
 2568               		call checksumOk
 2569               		or r24,r25
 2570               		breq .L128
 2571 0d84 E091 0000 		ldi r18,lo8(0)
 2572 0d88 F091 0000 		ldi r19,hi8(0)
 2573 0d8c E20F      		rjmp .L129
 2574 0d8e F31F      	.L128:
 2575 0d90 8081      		ldi r18,lo8(5)
 2576 0d92 8D93      		ldi r19,hi8(5)
 2577               	.L129:
 2579 0d94 2F5F      	.LM182:
 2580 0d96 3F4F      		movw r24,r18
 2581               	/* epilogue start */
 2582 0d98 2017      		adiw r28,8
 2583 0d9a 3107      		in __tmp_reg__,__SREG__
 2584 0d9c 04F0      		cli
 2585               		out __SP_H__,r29
 2586               		out __SREG__,__tmp_reg__
 2587 0d9e C801      		out __SP_L__,r28
 2588 0da0 B701      		pop r28
 2589 0da2 A601      		pop r29
 2590 0da4 23E0      		pop r17
 2591 0da6 30E0      		pop r16
 2592 0da8 0E94 0000 		pop r15
 2593 0dac 892B      		pop r14
 2594 0dae 01F0      		pop r13
 2595 0db0 20E0      		pop r12
 2596 0db2 30E0      		ret
 2602               	.Lscope20:
 2604 0dba C901      	.global	BUFFERStringTX
 2606 0dbc 2896      	BUFFERStringTX:
 2608 0dc0 F894      	.LM183:
 2609 0dc2 DEBF      	.LFBB21:
 2610 0dc4 0FBE      		push r12
 2611 0dc6 CDBF      		push r13
 2612 0dc8 CF91      		push r14
 2613 0dca DF91      		push r15
 2614 0dcc 1F91      		push r16
 2615 0dce 0F91      		push r17
 2616 0dd0 FF90      		push r29
 2617 0dd2 EF90      		push r28
 2618 0dd4 DF90      		in r28,__SP_L__
 2619 0dd6 CF90      		in r29,__SP_H__
 2620 0dd8 0895      		sbiw r28,8
 2621               		in __tmp_reg__,__SREG__
 2622               		cli
 2623               		out __SP_H__,r29
 2624               		out __SREG__,__tmp_reg__
 2625               		out __SP_L__,r28
 2626               	/* prologue: function */
 2627               	/* frame size = 8 */
 2628               		mov r13,r24
 2629               		mov r12,r25
 2631               	.LM184:
 2632               		mov r30,r24
 2633               		mov r31,r25
 2634 0dda CF92      		movw r26,r30
 2635 0ddc DF92      		ld __tmp_reg__,X+
 2636 0dde EF92      		tst __tmp_reg__
 2637 0de0 FF92      		brne .-6
 2638 0de2 0F93      		movw r16,r26
 2639 0de4 1F93      		subi r16,lo8(-(-1))
 2640 0de6 DF93      		sbci r17,hi8(-(-1))
 2641 0de8 CF93      		sub r16,r30
 2642 0dea CDB7      		sbc r17,r31
 2643 0dec DEB7      		ldi r20,lo8(8)
 2644 0dee 2897      		mov r14,r20
 2645 0df0 0FB6      		mov r15,__zero_reg__
 2646 0df2 F894      		add r14,r16
 2647 0df4 DEBF      		adc r15,r17
 2649 0df8 CDBF      	.LM185:
 2650               		movw r24,r14
 2651               		call Esimpar
 2652 0dfa D82E      		or r24,r25
 2653 0dfc C92E      		breq .L132
 2655               	.LM186:
 2656 0dfe E82F      		ldi r19,lo8(9)
 2657 0e00 F92F      		mov r14,r19
 2658 0e02 DF01      		mov r15,__zero_reg__
 2659 0e04 0D90      		add r14,r16
 2660 0e06 0020      		adc r15,r17
 2661 0e08 01F4      	.L132:
 2663 0e0c 0150      	.LM187:
 2664 0e0e 1040      		movw r24,r14
 2665 0e10 0E1B      		call declarar
 2666 0e12 1F0B      		sts (TXBUFFER)+1,r25
 2667 0e14 48E0      		sts TXBUFFER,r24
 2669 0e18 F12C      	.LM188:
 2670 0e1a E00E      		mov r30,r13
 2671 0e1c F11E      		mov r31,r12
 2672               		movw r26,r30
 2673               		ld __tmp_reg__,X+
 2674 0e1e C701      		tst __tmp_reg__
 2675 0e20 0E94 0000 		brne .-6
 2676 0e24 892B      		sbiw r26,1
 2677 0e26 01F0      		sub r26,r30
 2678               		sbc r27,r31
 2680 0e28 39E0      	.LM189:
 2681 0e2a E32E      		movw r16,r28
 2682 0e2c F12C      		subi r16,lo8(-(1))
 2683 0e2e E00E      		sbci r17,hi8(-(1))
 2684 0e30 F11E      		movw r24,r16
 2685               		ldi r22,lo8(5)
 2686               		ldi r23,hi8(5)
 2687               		movw r20,r26
 2688 0e32 C701      		mov r18,r13
 2689 0e34 0E94 0000 		mov r19,r12
 2690 0e38 9093 0000 		call fillPacketHeader
 2692               	.LM190:
 2693               		movw r24,r16
 2694 0e40 ED2D      		movw r22,r16
 2695 0e42 FC2D      		ldi r20,lo8(8)
 2696 0e44 DF01      		ldi r21,hi8(8)
 2697 0e46 0D90      		call BUFFERPacketDataTX
 2699 0e4a 01F4      	.LM191:
 2700 0e4c 1197      		movw r24,r16
 2701 0e4e AE1B      		mov r22,r13
 2702 0e50 BF0B      		mov r23,r12
 2703               		ldi r20,lo8(5)
 2704               		ldi r21,hi8(5)
 2705 0e52 8E01      		call BUFFERPacketDataTX
 2707 0e56 1F4F      	.LM192:
 2708 0e58 C801      		movw r24,r14
 2709 0e5a 65E0      	/* epilogue start */
 2710 0e5c 70E0      		adiw r28,8
 2711 0e5e AD01      		in __tmp_reg__,__SREG__
 2712 0e60 2D2D      		cli
 2713 0e62 3C2D      		out __SP_H__,r29
 2714 0e64 0E94 0000 		out __SREG__,__tmp_reg__
 2715               		out __SP_L__,r28
 2716               		pop r28
 2717 0e68 C801      		pop r29
 2718 0e6a B801      		pop r17
 2719 0e6c 48E0      		pop r16
 2720 0e6e 50E0      		pop r15
 2721 0e70 0E94 0000 		pop r14
 2722               		pop r13
 2723               		pop r12
 2724 0e74 C801      		ret
 2730               	.Lscope21:
 2733               	.global	dispatchPacket
 2735 0e86 0FB6      	dispatchPacket:
 2737 0e8a DEBF      	.LM193:
 2738 0e8c 0FBE      	.LFBB22:
 2739 0e8e CDBF      		push r28
 2740 0e90 CF91      		push r29
 2741 0e92 DF91      	/* prologue: function */
 2742 0e94 1F91      	/* frame size = 0 */
 2743 0e96 0F91      		movw r20,r24
 2745 0e9a EF90      	.LM194:
 2746 0e9c DF90      		sts (txPacket)+1,r25
 2747 0e9e CF90      		sts txPacket,r24
 2749               	.LM195:
 2750               		sbiw r24,0
 2751               		brne .+2
 2752               		rjmp .L135
 2753               		cpi r24,14
 2754               		cpc r25,__zero_reg__
 2755               		brlt .+2
 2756               		rjmp .L135
 2758               	.LM196:
 2759               		cpi r24,7
 2760               		cpc r25,__zero_reg__
 2761               		breq .L140
 2762               		cpi r24,8
 2763 0ea2 CF93      		cpc r25,__zero_reg__
 2764 0ea4 DF93      		brge .L146
 2765               		cpi r24,5
 2766               		cpc r25,__zero_reg__
 2767 0ea6 AC01      		brge .L147
 2768               		cpi r24,3
 2769               		cpc r25,__zero_reg__
 2770 0ea8 9093 0000 		brge .L137
 2771 0eac 8093 0000 		cpi r24,1
 2772               		cpc r25,__zero_reg__
 2773               		breq .+2
 2774 0eb0 0097      		rjmp .L135
 2775 0eb2 01F4      		rjmp .L153
 2776 0eb4 00C0      	.L147:
 2777 0eb6 8E30      		cpi r24,5
 2778 0eb8 9105      		cpc r25,__zero_reg__
 2779 0eba 04F0      		breq .L138
 2780 0ebc 00C0      		cpi r24,6
 2781               		cpc r25,__zero_reg__
 2782               		breq .+2
 2783 0ebe 8730      		rjmp .L135
 2784 0ec0 9105      		rjmp .L154
 2785 0ec2 01F0      	.L146:
 2786 0ec4 8830      		cpi r24,11
 2787 0ec6 9105      		cpc r25,__zero_reg__
 2788 0ec8 04F4      		breq .L143
 2789 0eca 8530      		cpi r24,12
 2790 0ecc 9105      		cpc r25,__zero_reg__
 2791 0ece 04F4      		brge .L148
 2792 0ed0 8330      		cpi r24,9
 2793 0ed2 9105      		cpc r25,__zero_reg__
 2794 0ed4 04F4      		breq .L141
 2795 0ed6 8130      		cpi r24,10
 2796 0ed8 9105      		cpc r25,__zero_reg__
 2797 0eda 01F0      		breq .+2
 2798 0edc 00C0      		rjmp .L135
 2799 0ede 00C0      		rjmp .L155
 2800               	.L148:
 2801 0ee0 8530      		cpi r24,12
 2802 0ee2 9105      		cpc r25,__zero_reg__
 2803 0ee4 01F0      		breq .L144
 2804 0ee6 8630      		cpi r24,13
 2805 0ee8 9105      		cpc r25,__zero_reg__
 2806 0eea 01F0      		brne .L135
 2807 0eec 00C0      		rjmp .L156
 2808 0eee 00C0      	.L137:
 2810 0ef0 8B30      	.LM197:
 2811 0ef2 9105      		movw r30,r22
 2813 0ef6 8C30      	.LM198:
 2814 0ef8 9105      		ld r22,Z
 2815 0efa 04F4      		ldd r23,Z+1
 2816 0efc 8930      		movw r24,r30
 2817 0efe 9105      		call BUFFERTrajectoryTX
 2818 0f00 01F0      		rjmp .L152
 2819 0f02 8A30      	.L153:
 2821 0f06 01F0      	.LM199:
 2822 0f08 00C0      		movw r24,r22
 2823 0f0a 00C0      		call BUFFERCommandTX
 2824               		rjmp .L152
 2825 0f0c 8C30      	.L138:
 2827 0f10 01F0      	.LM200:
 2828 0f12 8D30      		movw r24,r22
 2829 0f14 9105      		call BUFFERStringTX
 2830 0f16 01F4      		rjmp .L152
 2831 0f18 00C0      	.L154:
 2833               	.LM201:
 2834               		movw r24,r22
 2835 0f1a FB01      		call BUFFERAxisSettingsTX
 2836               		rjmp .L152
 2837               	.L140:
 2839 0f1e 7181      	.LM202:
 2840 0f20 CF01      		movw r24,r22
 2841 0f22 0E94 0000 		call BUFFERAxisLimitsTX
 2842 0f26 00C0      		rjmp .L152
 2843               	.L141:
 2845               	.LM203:
 2846 0f28 CB01      		movw r24,r22
 2847 0f2a 0E94 0000 		call BUFFERVectorPoseTX
 2848 0f2e 00C0      		rjmp .L152
 2849               	.L155:
 2851               	.LM204:
 2852 0f30 CB01      		movw r24,r22
 2853 0f32 0E94 0000 		call BUFFERFechaTX
 2854 0f36 00C0      		rjmp .L152
 2855               	.L143:
 2857               	.LM205:
 2858 0f38 CB01      		movw r24,r22
 2859 0f3a 0E94 0000 		call BUFFERAlarmaTX
 2860 0f3e 00C0      		rjmp .L152
 2861               	.L144:
 2863               	.LM206:
 2864 0f40 CB01      		movw r24,r22
 2865 0f42 0E94 0000 		call BUFFERTraceTX
 2866 0f46 00C0      		rjmp .L152
 2867               	.L156:
 2869               	.LM207:
 2870 0f48 CB01      		movw r24,r22
 2871 0f4a 0E94 0000 		call BUFFERunit16TX
 2872 0f4e 00C0      	.L152:
 2873               		movw r22,r24
 2875               	.LM208:
 2876 0f50 CB01      		lds r24,TXBUFFER
 2877 0f52 0E94 0000 		lds r25,(TXBUFFER)+1
 2878 0f56 00C0      		call Envio_USB
 2879               		movw r28,r24
 2881               	.LM209:
 2882 0f58 CB01      		lds r24,TXBUFFER
 2883 0f5a 0E94 0000 		lds r25,(TXBUFFER)+1
 2884 0f5e 00C0      		call free
 2885               		rjmp .L150
 2886               	.L135:
 2888 0f60 CB01      	.LM210:
 2889 0f62 0E94 0000 		ldi r28,lo8(3)
 2890 0f66 00C0      		ldi r29,hi8(3)
 2891               	.L150:
 2893               	.LM211:
 2894 0f68 CB01      		movw r24,r28
 2895 0f6a 0E94 0000 	/* epilogue start */
 2896               		pop r29
 2897 0f6e BC01      		pop r28
 2898               		ret
 2904               	.Lscope22:
 2906 0f7e 8091 0000 	.global	receiptPacket
 2908 0f86 0E94 0000 	receiptPacket:
 2910               	.LM212:
 2911               	.LFBB23:
 2912               		push r16
 2913 0f8c C3E0      		push r17
 2914 0f8e D0E0      	/* prologue: function */
 2915               	/* frame size = 0 */
 2917               	.LM213:
 2918 0f90 CE01      		ldi r24,lo8(8)
 2919               		ldi r25,hi8(8)
 2920 0f92 DF91      		call declarar
 2921 0f94 CF91      		sts RXBUFFER,r24
 2922 0f96 0895      		sts RXBUFFER+1,r25
 2924               	.LM214:
 2925               		ldi r22,lo8(8)
 2926               		ldi r23,hi8(8)
 2927               		call Leo_USB
 2928               		movw r16,r24
 2930               	.LM215:
 2931               		sbiw r24,0
 2932               		breq .+2
 2933               		rjmp .L158
 2935               	.LM216:
 2936 0f98 0F93      		ldi r24,lo8(rxHeader)
 2937 0f9a 1F93      		ldi r25,hi8(rxHeader)
 2938               		call readPacketHeaderRX
 2939               		movw r16,r24
 2941               	.LM217:
 2942 0f9c 88E0      		lds r24,RXBUFFER
 2943 0f9e 90E0      		lds r25,(RXBUFFER)+1
 2944 0fa0 0E94 0000 		call free
 2946 0fa8 9093 0000 	.LM218:
 2947               		cp r16,__zero_reg__
 2948               		cpc r17,__zero_reg__
 2949 0fac 68E0      		breq .+2
 2950 0fae 70E0      		rjmp .L158
 2952 0fb4 8C01      	.LM219:
 2953               		lds r16,rxHeader+2
 2954               		lds r17,(rxHeader+2)+1
 2956 0fb8 01F0      	.LM220:
 2957 0fba 00C0      		movw r24,r16
 2958               		call Esimpar
 2959               		or r24,r25
 2960 0fbc 80E0      		breq .L159
 2962 0fc0 0E94 0000 	.LM221:
 2963 0fc4 8C01      		subi r16,lo8(-(1))
 2964               		sbci r17,hi8(-(1))
 2965               	.L159:
 2967 0fca 9091 0000 	.LM222:
 2968 0fce 0E94 0000 		movw r24,r16
 2969               		call declarar
 2970               		sts RXBUFFER,r24
 2971 0fd2 0115      		sts RXBUFFER+1,r25
 2973 0fd6 01F0      	.LM223:
 2974 0fd8 00C0      		movw r22,r16
 2975               		call Leo_USB
 2976               		movw r16,r24
 2978 0fde 1091 0000 	.LM224:
 2979               		sbiw r24,0
 2980               		breq .+2
 2981 0fe2 C801      		rjmp .L158
 2983 0fe8 892B      	.LM225:
 2984 0fea 01F0      		lds r24,rxHeader
 2985               		lds r25,(rxHeader)+1
 2986               		sts (rxPacket)+1,r25
 2987 0fec 0F5F      		sts rxPacket,r24
 2989               	.LM226:
 2990               		cpi r24,7
 2991               		cpc r25,__zero_reg__
 2992 0ff0 C801      		brne .+2
 2993 0ff2 0E94 0000 		rjmp .L165
 2994 0ff6 8093 0000 		cpi r24,8
 2995 0ffa 9093 0000 		cpc r25,__zero_reg__
 2996               		brge .L171
 2997               		cpi r24,5
 2998 0ffe B801      		cpc r25,__zero_reg__
 2999 1000 0E94 0000 		brge .L172
 3000 1004 8C01      		cpi r24,3
 3001               		cpc r25,__zero_reg__
 3002               		brge .L162
 3003 1006 0097      		sbiw r24,1
 3004 1008 01F0      		breq .+2
 3005 100a 00C0      		rjmp .L160
 3006               		rjmp .L179
 3007               	.L172:
 3008 100c 8091 0000 		cpi r24,5
 3009 1010 9091 0000 		cpc r25,__zero_reg__
 3010 1014 9093 0000 		brne .+2
 3011 1018 8093 0000 		rjmp .L163
 3012               		sbiw r24,6
 3013               		breq .+2
 3014 101c 8730      		rjmp .L160
 3015 101e 9105      		rjmp .L180
 3016 1020 01F4      	.L171:
 3017 1022 00C0      		cpi r24,11
 3018 1024 8830      		cpc r25,__zero_reg__
 3019 1026 9105      		brne .+2
 3020 1028 04F4      		rjmp .L168
 3021 102a 8530      		cpi r24,12
 3022 102c 9105      		cpc r25,__zero_reg__
 3023 102e 04F4      		brge .L173
 3024 1030 8330      		cpi r24,9
 3025 1032 9105      		cpc r25,__zero_reg__
 3026 1034 04F4      		brne .+2
 3027 1036 0197      		rjmp .L166
 3028 1038 01F0      		sbiw r24,10
 3029 103a 00C0      		breq .+2
 3030 103c 00C0      		rjmp .L160
 3031               		rjmp .L181
 3032 103e 8530      	.L173:
 3033 1040 9105      		cpi r24,12
 3034 1042 01F4      		cpc r25,__zero_reg__
 3035 1044 00C0      		brne .+2
 3036 1046 0697      		rjmp .L169
 3037 1048 01F0      		sbiw r24,13
 3038 104a 00C0      		breq .+2
 3039 104c 00C0      		rjmp .L160
 3040               		rjmp .L182
 3041 104e 8B30      	.L162:
 3043 1052 01F4      	.LM227:
 3044 1054 00C0      		lds r24,FlagTrayectoryok
 3045 1056 8C30      		lds r25,(FlagTrayectoryok)+1
 3046 1058 9105      		or r24,r25
 3047 105a 04F4      		breq .L174
 3049 105e 9105      	.LM228:
 3050 1060 01F4      		lds r24,rxTrajectory+4
 3051 1062 00C0      		lds r25,(rxTrajectory+4)+1
 3052 1064 0A97      		call free
 3053 1066 01F0      	.L174:
 3055 106a 00C0      	.LM229:
 3056               		ldi r24,lo8(rxTrajectory)
 3057 106c 8C30      		ldi r25,hi8(rxTrajectory)
 3058 106e 9105      		lds r16,rxHeader
 3059 1070 01F4      		lds r17,rxHeader+1
 3060 1072 00C0      		lds r18,rxHeader+2
 3061 1074 0D97      		lds r19,rxHeader+3
 3062 1076 01F0      		lds r20,rxHeader+4
 3063 1078 00C0      		lds r21,rxHeader+5
 3064 107a 00C0      		lds r22,rxHeader+6
 3065               		lds r23,rxHeader+7
 3066               		call readTrajectoryRX
 3067               		movw r16,r24
 3069 1080 9091 0000 	.LM230:
 3070 1084 892B      		ldi r24,lo8(1)
 3071 1086 01F0      		ldi r25,hi8(1)
 3072               		sts (FlagTrayectoryok)+1,r25
 3073               		sts FlagTrayectoryok,r24
 3074 1088 8091 0000 		rjmp .L160
 3075 108c 9091 0000 	.L179:
 3077               	.LM231:
 3078               		ldi r24,lo8(rxHeader)
 3079               		ldi r25,hi8(rxHeader)
 3080 1094 80E0      		ldi r22,lo8(rxCommand)
 3081 1096 90E0      		ldi r23,hi8(rxCommand)
 3082 1098 0091 0000 		call readPacketDataRX
 3083 109c 1091 0000 		movw r16,r24
 3085 10a4 3091 0000 	.LM232:
 3086 10a8 4091 0000 		lds r24,rxCommand
 3087 10ac 5091 0000 		lds r25,(rxCommand)+1
 3088 10b0 6091 0000 		sbiw r24,19
 3089 10b4 7091 0000 		brge .+2
 3090 10b8 0E94 0000 		rjmp .L160
 3092               	.LM233:
 3093               		sts (rxCommand)+1,__zero_reg__
 3094 10be 81E0      		sts rxCommand,__zero_reg__
 3095 10c0 90E0      		ldi r16,lo8(4)
 3096 10c2 9093 0000 		ldi r17,hi8(4)
 3097 10c6 8093 0000 		rjmp .L158
 3098 10ca 00C0      	.L163:
 3100               	.LM234:
 3101               		ldi r24,lo8(rxHeader)
 3102 10cc 80E0      		ldi r25,hi8(rxHeader)
 3103 10ce 90E0      		ldi r22,lo8(rxString)
 3104 10d0 60E0      		ldi r23,hi8(rxString)
 3105 10d2 70E0      		rjmp .L178
 3106 10d4 0E94 0000 	.L180:
 3108               	.LM235:
 3109               		ldi r24,lo8(rxHeader)
 3110 10da 8091 0000 		ldi r25,hi8(rxHeader)
 3111 10de 9091 0000 		ldi r22,lo8(rxAxisSettings)
 3112 10e2 4397      		ldi r23,hi8(rxAxisSettings)
 3113 10e4 04F4      		call readPacketDataRX
 3114 10e6 00C0      		rjmp .L160
 3115               	.L165:
 3117 10e8 1092 0000 	.LM236:
 3118 10ec 1092 0000 		ldi r24,lo8(rxHeader)
 3119 10f0 04E0      		ldi r25,hi8(rxHeader)
 3120 10f2 10E0      		ldi r22,lo8(rxAxisLimits)
 3121 10f4 00C0      		ldi r23,hi8(rxAxisLimits)
 3122               	.L178:
 3123               		call readPacketDataRX
 3124               		movw r16,r24
 3125 10f6 80E0      		rjmp .L160
 3126 10f8 90E0      	.L166:
 3128 10fc 70E0      	.LM237:
 3129 10fe 00C0      		lds r24,FlagrxVectorok
 3130               		lds r25,(FlagrxVectorok)+1
 3131               		or r24,r25
 3132               		breq .L175
 3134 1102 90E0      	.LM238:
 3135 1104 60E0      		lds r24,rxvector
 3136 1106 70E0      		lds r25,(rxvector)+1
 3137 1108 0E94 0000 		call free
 3138 110c 00C0      	.L175:
 3140               	.LM239:
 3141               		lds r24,rxHeader+2
 3142 110e 80E0      		lds r25,(rxHeader+2)+1
 3143 1110 90E0      		call declarar
 3144 1112 60E0      		movw r22,r24
 3145 1114 70E0      		sts rxvector,r24
 3146               		sts rxvector+1,r23
 3148 111a 8C01      	.LM240:
 3149 111c 00C0      		ldi r24,lo8(rxHeader)
 3150               		ldi r25,hi8(rxHeader)
 3151               		call readPacketDataRX
 3152               		movw r16,r24
 3154 1122 9091 0000 	.LM241:
 3155 1126 892B      		ldi r24,lo8(1)
 3156 1128 01F0      		ldi r25,hi8(1)
 3157               		sts (FlagrxVectorok)+1,r25
 3158               		sts FlagrxVectorok,r24
 3159 112a 8091 0000 		rjmp .L160
 3160 112e 9091 0000 	.L181:
 3162               	.LM242:
 3163               		ldi r24,lo8(rxHeader)
 3164               		ldi r25,hi8(rxHeader)
 3165 1136 8091 0000 		ldi r22,lo8(rxFecha)
 3166 113a 9091 0000 		ldi r23,hi8(rxFecha)
 3167 113e 0E94 0000 		rjmp .L178
 3168 1142 BC01      	.L168:
 3170 1148 7093 0000 	.LM243:
 3171               		ldi r24,lo8(rxHeader)
 3172               		ldi r25,hi8(rxHeader)
 3173 114c 80E0      		ldi r22,lo8(rxAlarma)
 3174 114e 90E0      		ldi r23,hi8(rxAlarma)
 3175 1150 0E94 0000 		rjmp .L178
 3176 1154 8C01      	.L182:
 3178               	.LM244:
 3179 1156 81E0      		ldi r24,lo8(rxHeader)
 3180 1158 90E0      		ldi r25,hi8(rxHeader)
 3181 115a 9093 0000 		ldi r22,lo8(rxPosesActual)
 3182 115e 8093 0000 		ldi r23,hi8(rxPosesActual)
 3183 1162 00C0      		rjmp .L178
 3184               	.L169:
 3186               	.LM245:
 3187 1164 80E0      		lds r24,FlagTraceok
 3188 1166 90E0      		lds r25,(FlagTraceok)+1
 3189 1168 60E0      		or r24,r25
 3190 116a 70E0      		breq .L176
 3192               	.LM246:
 3193               		lds r24,rxTraceBuffer
 3194               		lds r25,(rxTraceBuffer)+1
 3195 116e 80E0      		call free
 3196 1170 90E0      	.L176:
 3198 1174 70E0      	.LM247:
 3199 1176 00C0      		lds r24,rxHeader+2
 3200               		lds r25,(rxHeader+2)+1
 3201               		call declarar
 3202               		movw r22,r24
 3203 1178 80E0      		sts rxTraceBuffer,r24
 3204 117a 90E0      		sts rxTraceBuffer+1,r23
 3206 117e 70E0      	.LM248:
 3207 1180 00C0      		ldi r24,lo8(rxHeader)
 3208               		ldi r25,hi8(rxHeader)
 3209               		call readPacketDataRX
 3210               		movw r16,r24
 3212 1186 9091 0000 	.LM249:
 3213 118a 892B      		ldi r24,lo8(1)
 3214 118c 01F0      		ldi r25,hi8(1)
 3215               		sts (FlagTraceok)+1,r25
 3216               		sts FlagTraceok,r24
 3217 118e 8091 0000 	.L160:
 3219 1196 0E94 0000 	.LM250:
 3220               		lds r24,RXBUFFER
 3221               		lds r25,(RXBUFFER)+1
 3222               		call free
 3223 119a 8091 0000 	.L158:
 3225 11a2 0E94 0000 	.LM251:
 3226 11a6 BC01      		movw r24,r16
 3227 11a8 8093 0000 	/* epilogue start */
 3228 11ac 7093 0000 		pop r17
 3229               		pop r16
 3230               		ret
 3236               	.Lscope23:
 3237 11ba 81E0      	.global	FlagTrayectoryok
 3238 11bc 90E0      	.global	FlagTrayectoryok
 3239 11be 9093 0000 		.section .bss
 3242               	FlagTrayectoryok:
 3243               		.skip 2,0
 3244 11c6 8091 0000 	.global	FlagrxVectorok
 3245 11ca 9091 0000 	.global	FlagrxVectorok
 3248               	FlagrxVectorok:
 3249               		.skip 2,0
 3250 11d2 C801      	.global	FlagTraceok
 3251               	.global	FlagTraceok
 3254 11d8 0895      	FlagTraceok:
 3255               		.skip 2,0
 3256               		.data
 3259               	minPacketData:
 3260               		.word	1
 3261               		.word	1
 3262               		.word	1
 3263               		.word	1
 3264               		.word	1
 3265               		.word	1
 3266               		.word	1
 3267 0000 0000      		.word	1
 3268               		.word	1
 3269               		.word	1
 3270               		.word	1
 3271               		.word	1
 3272               		.word	1
 3273 0002 0000      		.word	1
 3274               		.word	1
 3275               		.word	1
 3276               		.word	1
 3277               		.word	1
 3278               		.word	1
 3279 0004 0000      		.comm hAxis,480,1
 3280               		.comm rxAxisSettings,340,1
 3281               		.comm rxTraceBuffer,2,1
 3282               		.comm rxPosesActual,2,1
 3283               		.comm rxHeader,8,1
 3284 01d4 0100      		.comm rxCommand,27,1
 3285 01d6 0100      		.comm rxTrajectory,6,1
 3286 01d8 0100      		.comm rxString,256,1
 3287 01da 0100      		.comm rxAxisLimits,8,1
 3288 01dc 0100      		.comm rxPacket,2,1
 3289 01de 0100      		.comm RXBUFFER,2,1
 3290 01e0 0100      		.comm rxvector,2,1
 3291 01e2 0100      		.comm rxFecha,8,1
 3292 01e4 0100      		.comm rxAlarma,7,1
 3293 01e6 0100      		.comm TXBUFFER,2,1
 3294 01e8 0100      		.comm txPacket,2,1
 3315               		.text
 3317               	.Letext0:
 3318               	.global __do_copy_data
 3319               	.global __do_clear_bss
 3320               	...
DEFINED SYMBOLS
                            *ABS*:00000000 packetIO.c
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2      *ABS*:0000003f __SREG__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:3      *ABS*:0000003e __SP_H__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:4      *ABS*:0000003d __SP_L__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:5      *ABS*:00000034 __CCP__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:237    .text:00000000 initPacketIO
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:3283   .data:000001d4 minPacketData
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:305    .text:00000066 calcChecksum
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:457    .text:00000120 checksumOk
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:503    .text:0000014e readPacketHeaderRX
                            *COM*:00000002 RXBUFFER
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:611    .text:000001dc readPacketDataRX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:708    .text:00000256 fillPacketHeader
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:798    .text:000002be Esimpar
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:826    .text:000002d4 Axis2AxisMask
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:927    .text:00000342 BUFFERPacketDataTX
                            *COM*:00000002 TXBUFFER
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1151   .text:0000047e Print_rxTrajectory
                            *COM*:00000006 rxTrajectory
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1488   .text:000006f2 BUFFERunit16TX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1588   .text:0000078a BUFFERTraceTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1721   .text:00000852 BUFFERAlarmaTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1821   .text:000008ea BUFFERFechaTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:1921   .text:00000982 BUFFERVectorPoseTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2047   .text:00000a3e BUFFERAxisLimitsTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2149   .text:00000adc BUFFERAxisSettingsTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2255   .text:00000b7e BUFFERTrajectoryTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2383   .text:00000c4a BUFFERCommandTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2487   .text:00000ce8 readTrajectoryRX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2630   .text:00000dda BUFFERStringTX
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2759   .text:00000ea2 dispatchPacket
                            *COM*:00000002 txPacket
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:2932   .text:00000f98 receiptPacket
                            *COM*:00000008 rxHeader
                            *COM*:00000002 rxPacket
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:3266   .bss:00000000 FlagTrayectoryok
                            *COM*:0000001b rxCommand
                            *COM*:00000100 rxString
                            *COM*:00000154 rxAxisSettings
                            *COM*:00000008 rxAxisLimits
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:3272   .bss:00000002 FlagrxVectorok
                            *COM*:00000002 rxvector
                            *COM*:00000008 rxFecha
                            *COM*:00000007 rxAlarma
                            *COM*:00000002 rxPosesActual
C:\DOCUME~1\David\LOCALS~1\Temp/cc765sOa.s:3278   .bss:00000004 FlagTraceok
                            *COM*:00000002 rxTraceBuffer
                            *COM*:000001e0 hAxis

UNDEFINED SYMBOLS
__divmodhi4
printf
AxisName
scanf
declarar
Envio_USB
free
Leo_USB
__do_copy_data
__do_clear_bss
